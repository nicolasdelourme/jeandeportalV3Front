import{r as e,f as t,b as a,d as s,F as l,u as n,o as r,p as o,e as i,q as u,s as d,t as c,j as p,h as m,i as f,_ as v,c as y}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-Br6uEOr3.js";import{_ as h,a as b,b as _}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-DaA9Wpsy.js";import{T as g,u as x,D as w,$ as C,a as k,b as E}from"./ui-vendor-Dpzf4R5k.js";import{A as S,G as D,H as A,u as R,D as j,I as P,J as N,Q as U,a5 as T,a as F,K as B,U as I,W as z,F as L,Z as M,V as $,L as O,l as q,m as V,X as H,w as G,a6 as K,y as Y,n as J}from"./vue-vendor-BHZkLje3.js";import{o as Q,b as X,s as Z,u as W,t as ee,F as te}from"./form-vendor-D_96SOpp.js";import{b as ae,l as se,d as le,e as ne,t as re,g as oe,c as ie}from"./index-BamJDk-5.js";import{_ as ue}from"./Card.vue_vue_type_script_setup_true_lang-BImqj4dv.js";import{_ as de}from"./CardContent.vue_vue_type_script_setup_true_lang-CzZI-ZF8.js";import{_ as ce}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cw5K8ggb.js";import{_ as pe,a as me}from"./CardTitle.vue_vue_type_script_setup_true_lang-CCW9Rm4y.js";import{_ as fe,a as ve,b as ye,c as he}from"./FormMessage.vue_vue_type_script_setup_true_lang-DUUurZV1.js";import{_ as be}from"./Input.vue_vue_type_script_setup_true_lang-DxIiTCa0.js";import{_ as _e,a as ge}from"./CalendarPrevButton.vue_vue_type_script_setup_true_lang-DUvcT-d5.js";import{_ as xe}from"./Checkbox.vue_vue_type_script_setup_true_lang-EZWj0bVF.js";import{_ as we,a as Ce,b as ke,c as Ee}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DtbfTDir.js";import{l as Se,_ as De,a as Ae,b as Re}from"./index-5-l_LvkH.js";import{_ as je,a as Pe,b as Ne,c as Ue,d as Te,e as Fe}from"./TableHeader.vue_vue_type_script_setup_true_lang-mEEMBt15.js";import"./Label.vue_vue_type_script_setup_true_lang-BNDbxbZU.js";import"./x-C2wa1mm5.js";const Be=S({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(a){const s=a,l=e(s,"class");return(e,a)=>(A(),D(R(g),j({"data-slot":"tabs-content",class:R(t)("flex-1 outline-none",s.class)},R(l)),{default:P(()=>[N(e.$slots,"default")]),_:3},16,["class"]))}}),Ie=S({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const s=a,l=e(s,"class"),n=x(l);return(e,a)=>(A(),D(R(w),j({"data-slot":"dialog-description"},R(n),{class:R(t)("text-muted-foreground text-sm",s.class)}),{default:P(()=>[N(e.$slots,"default")]),_:3},16,["class"]))}}),ze=S({__name:"DialogFooter",props:{class:{}},setup(e){const a=e;return(e,s)=>(A(),U("div",{"data-slot":"dialog-footer",class:T(R(t)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a.class))},[N(e.$slots,"default")],2))}}),Le={FR:"France",BE:"Belgique",CH:"Suisse",LU:"Luxembourg",CA:"Canada"},Me=Object.entries(Le).map(([e,t])=>({code:e,name:t}));class $e extends Error{code;statusCode;constructor(e,t,a){super(e),this.name="AddressError",this.code=t,this.statusCode=a}}const Oe=new class{async fetchAddresses(){try{const e=await ae.get("/fetchUserAdress");if("error"===e.status)throw new $e(e.message||"Impossible de récupérer les adresses","FETCH_ERROR");return e}catch(e){if(e instanceof $e)throw e;se.error("❌ Erreur lors de la récupération des adresses:",e);const t=le(e);throw new $e(t?.message||"Impossible de récupérer les adresses","FETCH_ERROR",ne(e))}}async createAddress(e){try{const t={country:e.country,city:e.city,zipcode:e.postalCode,line1:e.street,line2:e.streetComplement||null,firstname:e.firstName||null,lastname:e.lastName||null,recipient:e.label||null,mainAdress:e.isDefaultShipping?1:0,mainBillAdress:e.isDefaultBilling?1:0},a=await ae.post("/createAdress",t);if("error"===a.status)throw new $e(a.message||"Impossible de créer l'adresse","CREATE_ERROR");return a}catch(t){if(t instanceof $e)throw t;se.error("❌ Erreur lors de la création de l'adresse:",t);const e=le(t);throw new $e(e?.message||"Impossible de créer l'adresse","CREATE_ERROR",ne(t))}}async updateAddress(e,t){try{const a={};void 0!==t.country&&(a.country=t.country),void 0!==t.city&&(a.city=t.city),void 0!==t.postalCode&&(a.zipcode=t.postalCode),void 0!==t.street&&(a.line1=t.street),void 0!==t.streetComplement&&(a.line2=t.streetComplement||null),void 0!==t.firstName&&(a.firstname=t.firstName||null),void 0!==t.lastName&&(a.lastname=t.lastName||null),void 0!==t.label&&(a.recipient=t.label||null),void 0!==t.isDefaultShipping&&(a.mainAdress=t.isDefaultShipping?1:0),void 0!==t.isDefaultBilling&&(a.mainBillAdress=t.isDefaultBilling?1:0);const s={adressId:e,adress_array:a},l=await ae.post("/updateAdress",s);if("error"===l.status)throw new $e(l.message||"Impossible de mettre à jour l'adresse","UPDATE_ERROR");return l}catch(a){if(a instanceof $e)throw a;se.error("❌ Erreur lors de la mise à jour de l'adresse:",a);const e=le(a);throw new $e(e?.message||"Impossible de mettre à jour l'adresse","UPDATE_ERROR",ne(a))}}async deleteAddress(e){try{const t=await ae.post("/deleteAdress",{adressId:e});if("error"===t.status)throw new $e(t.message||"Impossible de supprimer l'adresse","DELETE_ERROR");return t}catch(t){if(t instanceof $e)throw t;se.error("❌ Erreur lors de la suppression de l'adresse:",t);const e=le(t);throw new $e(e?.message||"Impossible de supprimer l'adresse","DELETE_ERROR",ne(t))}}async setDefaultShipping(e){return this.updateAddress(e,{isDefaultShipping:!0})}async setDefaultBilling(e){return this.updateAddress(e,{isDefaultBilling:!0})}},qe={class:"grid gap-4 sm:grid-cols-2"},Ve={class:"grid gap-4 sm:grid-cols-2"},He=["value"],Ge={class:"space-y-3"},Ke={class:"flex gap-3 pt-4"},Ye=S({__name:"AddressForm",props:{address:{},mode:{}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,r=t,o=Q({label:Z().optional(),firstName:Z().min(2,"Le prénom doit contenir au moins 2 caractères"),lastName:Z().min(2,"Le nom doit contenir au moins 2 caractères"),street:Z().min(5,"L'adresse doit contenir au moins 5 caractères"),streetComplement:Z().optional(),postalCode:Z().regex(/^\d{5}$/,"Code postal invalide (5 chiffres)"),city:Z().min(2,"La ville doit contenir au moins 2 caractères"),country:Z().min(2,"Le pays est requis"),isDefaultShipping:X().default(!1),isDefaultBilling:X().default(!1)}),{handleSubmit:i,setFieldValue:u,values:d}=W({validationSchema:ee(o),initialValues:n.address?{label:n.address.label||"",firstName:n.address.firstName||"",lastName:n.address.lastName||"",street:n.address.street||"",streetComplement:n.address.streetComplement||"",postalCode:n.address.postalCode||"",city:n.address.city||"",country:n.address.country||"FR",isDefaultShipping:n.address.isDefaultShipping||!1,isDefaultBilling:n.address.isDefaultBilling||!1}:{label:"",firstName:"",lastName:"",street:"",streetComplement:"",postalCode:"",city:"",country:"FR",isDefaultShipping:!1,isDefaultBilling:!1}}),c=i(e=>{r("submit",e)}),p=()=>{r("cancel")},m=F(()=>({check:a.fas?.check,xmark:a.fas?.xmark})),f=e=>m.value[e];return(t,a)=>(A(),U("form",{class:"space-y-6",onSubmit:a[2]||(a[2]=(...e)=>R(c)&&R(c)(...e))},[B(R(te),{name:"label"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[3]||(a[3]=[z("Libellé de l'adresse (optionnel)",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"Ex: Maison, Bureau, etc.",class:"max-w-md"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),I("div",qe,[B(R(te),{name:"firstName"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[4]||(a[4]=[z("Prénom *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"Jean"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),B(R(te),{name:"lastName"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[5]||(a[5]=[z("Nom *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"Dupont"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1})]),B(R(te),{name:"street"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[6]||(a[6]=[z("Adresse *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"123 Rue de la Paix"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),B(R(te),{name:"streetComplement"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[7]||(a[7]=[z("Complément d'adresse (optionnel)",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"Appartement, étage, bâtiment..."}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),I("div",Ve,[B(R(te),{name:"postalCode"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[8]||(a[8]=[z("Code postal *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"75001",maxlength:"5"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),B(R(te),{name:"city"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[9]||(a[9]=[z("Ville *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{placeholder:"Paris"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1})]),B(R(te),{name:"country"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[10]||(a[10]=[z("Pays *",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[I("select",j(e,{class:"flex h-10 w-full max-w-md rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"}),[a[11]||(a[11]=I("option",{value:"",disabled:""},"Sélectionnez un pays",-1)),(A(!0),U(L,null,M(R(Me),e=>(A(),U("option",{key:e.code,value:e.code},$(e.name),9,He))),128))],16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),I("div",Ge,[B(R(te),{name:"isDefaultShipping"},{default:P(()=>[B(R(fe),{class:"flex items-center space-x-3 space-y-0"},{default:P(()=>[B(R(ye),null,{default:P(()=>[B(R(xe),{"model-value":!0===R(d).isDefaultShipping,"onUpdate:modelValue":a[0]||(a[0]=e=>{R(u)("isDefaultShipping",!0===e)})},null,8,["model-value"])]),_:1}),B(R(ve),{class:"font-normal cursor-pointer"},{default:P(()=>[...a[12]||(a[12]=[z(" Adresse de livraison par défaut ",-1)])]),_:1})]),_:1})]),_:1}),B(R(te),{name:"isDefaultBilling"},{default:P(()=>[B(R(fe),{class:"flex items-center space-x-3 space-y-0"},{default:P(()=>[B(R(ye),null,{default:P(()=>[B(R(xe),{"model-value":!0===R(d).isDefaultBilling,"onUpdate:modelValue":a[1]||(a[1]=e=>{R(u)("isDefaultBilling",!0===e)})},null,8,["model-value"])]),_:1}),B(R(ve),{class:"font-normal cursor-pointer"},{default:P(()=>[...a[13]||(a[13]=[z(" Adresse de facturation par défaut ",-1)])]),_:1})]),_:1})]),_:1})]),I("div",Ke,[B(R(s),{variant:"secondary",type:"submit",class:"flex items-center gap-2"},{default:P(()=>[f("check")?(A(),D(R(l),{key:0,icon:f},null,8,["icon"])):O("",!0),z(" "+$("create"===e.mode?"Ajouter l'adresse":"Enregistrer les modifications"),1)]),_:1}),B(R(s),{type:"button",variant:"outline",color:"secondary",class:"hover:bg-secondary hover:border-secondary",onClick:p},{default:P(()=>[f("xmark")?(A(),D(R(l),{key:0,icon:f,class:"mr-2"},null,8,["icon"])):O("",!0),a[14]||(a[14]=z(" Annuler ",-1))]),_:1})])],32))}}),Je={class:"flex items-center justify-between"},Qe={key:0,class:"flex items-center justify-center py-4"},Xe={key:1,class:"space-y-2"},Ze={class:"absolute top-3 right-3 flex gap-1"},We={class:"space-y-3 pr-20"},et={class:"font-semibold text-sm text-neutral-900"},tt={class:"space-y-1 text-sm"},at={class:"font-medium text-neutral-700"},st={class:"text-muted-foreground"},lt={key:0,class:"pt-2 flex gap-4 flex-wrap"},nt={key:0,class:"flex items-center gap-1.5 text-xs font-bold text-neutral-900 tracking-wide uppercase"},rt={key:1,class:"flex items-center gap-1.5 text-xs font-bold text-neutral-900 tracking-wide uppercase"},ot={class:"flex gap-3 pt-4"},it=S({__name:"AddressManagement",setup(e){const{user:t,refreshUser:o}=n(),i=q(!1),u=q(!1),d=F(()=>({plus:a.fas?.plus,pen:a.fas?.pen,trash:a.fas?.trash,star:a.fas?.star,phone:a.fas?.phone,locationDot:a.fas?.["location-dot"],spinner:a.fas?.spinner})),c=e=>d.value[e];function p(e){const t=1===e.mainAdress,a=1===e.mainBillAdress;let s="both";return t&&!a?s="shipping":a&&!t&&(s="billing"),{id:String(e.adressId),label:e.recipient??void 0,title:void 0,firstName:e.firstname,lastName:e.lastname,street:e.line1,streetComplement:e.line2??void 0,postalCode:e.zipcode,city:e.city,country:e.country,phone:void 0,isDefaultShipping:t,isDefaultBilling:a,type:s}}const m=q([]);function f(){t.value?.addresses&&(m.value=t.value.addresses.map((e,t)=>function(e,t){const a=e.isDefaultShipping??!1,s=e.isDefaultBilling??!1;let l="both";return a&&!s?l="shipping":s&&!a&&(l="billing"),{id:String(e.id??t),label:e.recipient??void 0,title:e.title??void 0,firstName:e.firstName??"",lastName:e.lastName??"",street:e.line1,streetComplement:e.line2??void 0,postalCode:e.zipcode,city:e.city,country:e.country,phone:void 0,isDefaultShipping:a,isDefaultBilling:s,type:l}}(e,t)))}async function v(){try{const e=await Oe.fetchAddresses();m.value=e.adress_array.map(p)}catch{f()}}f(),V(()=>{v()});const y=q(!1),h=q("create"),b=q(void 0),_=q(!1),g=q(null),x=()=>{h.value="create",b.value=void 0,y.value=!0},w=()=>{y.value=!1,b.value=void 0},C=async e=>{i.value=!0;try{if("create"===h.value)await Oe.createAddress(e),re.success("Adresse ajoutée avec succès");else if(b.value){const t=parseInt(b.value.id);await Oe.updateAddress(t,e),re.success("Adresse mise à jour avec succès")}await o(),await v(),w()}catch(t){re.error(oe(t))}finally{i.value=!1}},k=async()=>{if(g.value){u.value=!0;try{const e=parseInt(g.value);await Oe.deleteAddress(e),await o(),await v(),re.success("Adresse supprimée avec succès")}catch(e){re.error(oe(e))}finally{u.value=!1,_.value=!1,g.value=null}}},E=e=>{var t;return[e.street,e.streetComplement,`${e.postalCode} ${e.city}`,(t=e.country,Le[t]||t)].filter(Boolean).join(", ")};return(e,t)=>(A(),D(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[I("div",Je,[I("div",null,[B(R(me),null,{default:P(()=>[...t[3]||(t[3]=[z("Adresses postales",-1)])]),_:1}),B(R(ce),null,{default:P(()=>[...t[4]||(t[4]=[z(" Gérez vos adresses de facturation et de livraison ",-1)])]),_:1})]),B(R(s),{variant:"outline",color:"secondary",size:"sm",rounded:"lg",disabled:i.value,class:"flex items-center gap-1.5 hover:bg-secondary hover:border-secondary",onClick:x},{default:P(()=>[c("plus")?(A(),D(R(l),{key:0,icon:c("plus"),class:"w-3 h-3"},null,8,["icon"])):O("",!0),t[5]||(t[5]=I("span",{class:"font-semibold tracking-wide"},"AJOUTER",-1))]),_:1},8,["disabled"])])]),_:1}),B(R(de),null,{default:P(()=>[i.value?(A(),U("div",Qe,[c("spinner")?(A(),D(R(l),{key:0,icon:c("spinner"),class:"w-5 h-5 animate-spin text-secondary"},null,8,["icon"])):O("",!0),t[6]||(t[6]=I("span",{class:"ml-2 text-sm text-muted-foreground"},"Chargement...",-1))])):m.value.length>0?(A(),U("div",Xe,[(A(!0),U(L,null,M(m.value,e=>(A(),U("div",{key:e.id,class:"relative p-4 rounded-lg border border-neutral-200"},[I("div",Ze,[B(R(s),{variant:"ghost",color:"secondary",size:"sm",disabled:i.value,class:"h-8 w-8 p-0",onClick:t=>(e=>{h.value="edit",b.value=e,y.value=!0})(e)},{default:P(()=>[c("pen")?(A(),D(R(l),{key:0,icon:c("pen"),class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0)]),_:1},8,["disabled","onClick"]),B(R(s),{variant:"ghost",size:"sm",disabled:i.value,class:"h-8 w-8 p-0 text-destructive hover:text-destructive",onClick:t=>{return a=e.id,g.value=a,void(_.value=!0);var a}},{default:P(()=>[c("trash")?(A(),D(R(l),{key:0,icon:c("trash"),class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0)]),_:1},8,["disabled","onClick"])]),I("div",We,[I("h4",et,$(e.label||"Adresse"),1),I("div",tt,[I("p",at,$(e.title)+" "+$(e.firstName)+" "+$(e.lastName),1),I("p",st,$(E(e)),1)]),e.isDefaultShipping||e.isDefaultBilling?(A(),U("div",lt,[e.isDefaultShipping?(A(),U("div",nt,[c("star")?(A(),D(R(l),{key:0,icon:c("star"),class:"w-3 h-3"},null,8,["icon"])):O("",!0),t[7]||(t[7]=z(" Livraison par défaut ",-1))])):O("",!0),e.isDefaultBilling?(A(),U("div",rt,[c("star")?(A(),D(R(l),{key:0,icon:c("star"),class:"w-3 h-3"},null,8,["icon"])):O("",!0),t[8]||(t[8]=z(" Facturation par défaut ",-1))])):O("",!0)])):O("",!0)])]))),128))])):(A(),D(R(r),{key:2,title:"Aucune adresse enregistrée",description:"Ajoutez votre première adresse pour faciliter vos commandes",class:"border-2 border-dashed rounded-lg"},{icon:P(()=>[c("locationDot")?(A(),D(R(l),{key:0,icon:c("locationDot"),class:"w-full h-full"},null,8,["icon"])):O("",!0)]),action:P(()=>[B(R(s),{variant:"outline",onClick:x},{default:P(()=>[c("plus")?(A(),D(R(l),{key:0,icon:c("plus"),class:"mr-2"},null,8,["icon"])):O("",!0),t[9]||(t[9]=z(" Ajouter une adresse ",-1))]),_:1})]),_:1}))]),_:1}),B(R(we),{open:y.value,"onUpdate:open":t[0]||(t[0]=e=>y.value=e)},{default:P(()=>[B(R(Ce),{class:"max-w-2xl max-h-[90vh] overflow-y-auto"},{default:P(()=>[B(R(ke),null,{default:P(()=>[B(R(Ee),null,{default:P(()=>[z($("create"===h.value?"Ajouter une adresse":"Modifier l'adresse"),1)]),_:1}),B(R(Ie),null,{default:P(()=>[z($("create"===h.value?"Remplissez les informations ci-dessous pour ajouter une nouvelle adresse.":"Modifiez les informations de votre adresse."),1)]),_:1})]),_:1}),(A(),D(Ye,{key:b.value?.id??"new",address:b.value,mode:h.value,onSubmit:C,onCancel:w},null,8,["address","mode"]))]),_:1})]),_:1},8,["open"]),B(R(we),{open:_.value,"onUpdate:open":t[2]||(t[2]=e=>_.value=e)},{default:P(()=>[B(R(Ce),null,{default:P(()=>[B(R(ke),null,{default:P(()=>[B(R(Ee),null,{default:P(()=>[...t[10]||(t[10]=[z("Confirmer la suppression",-1)])]),_:1}),B(R(Ie),null,{default:P(()=>[...t[11]||(t[11]=[z(" Êtes-vous sûr de vouloir supprimer cette adresse ? Cette action est irréversible. ",-1)])]),_:1})]),_:1}),I("div",ot,[B(R(s),{variant:"outline",disabled:u.value,class:"flex-1",onClick:t[1]||(t[1]=e=>_.value=!1)},{default:P(()=>[...t[12]||(t[12]=[z(" Annuler ",-1)])]),_:1},8,["disabled"]),B(R(s),{disabled:u.value,class:"flex-1 bg-destructive hover:bg-destructive/90 text-white",onClick:k},{default:P(()=>[u.value&&c("spinner")?(A(),D(R(l),{key:0,icon:c("spinner"),class:"mr-2 animate-spin"},null,8,["icon"])):O("",!0),z(" "+$(u.value?"Suppression...":"Supprimer"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1},8,["open"])]),_:1}))}}),ut={class:"py-4"},dt={class:"text-center font-medium text-secondary text-lg"},ct={style:{"font-family":"Roboto, sans-serif"}},pt=S({__name:"PasswordChangeDialog",props:{open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=t,{user:l}=n(),r=q(!1),o=F(()=>l.value?.email||"");async function i(){if(o.value){r.value=!0;try{await ie.forgotPassword(o.value),re.success("Un email de réinitialisation vous a été envoyé"),a("update:open",!1)}catch(e){re.error("Impossible d'envoyer l'email de réinitialisation")}finally{r.value=!1}}}function u(){r.value||a("update:open",!1)}return(t,a)=>(A(),D(R(we),{open:e.open,"onUpdate:open":u},{default:P(()=>[B(R(Ce),{class:"max-w-md"},{default:P(()=>[B(R(ke),null,{default:P(()=>[B(R(Ee),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[...a[0]||(a[0]=[z(" Changer le mot de passe ",-1)])]),_:1}),B(R(Ie),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[...a[1]||(a[1]=[z(" Un email de réinitialisation sera envoyé à : ",-1)])]),_:1})]),_:1}),I("div",ut,[I("p",dt,$(o.value),1),a[2]||(a[2]=I("p",{class:"text-sm text-muted-foreground text-center mt-3"}," Cliquez sur le lien dans l'email pour définir votre nouveau mot de passe. ",-1))]),B(R(ze),{class:"flex gap-0 md:gap-2"},{default:P(()=>[B(R(s),{variant:"outline",color:"secondary",rounded:"lg",class:"hover:bg-secondary hover:border-secondary",disabled:r.value,onClick:u},{default:P(()=>[...a[3]||(a[3]=[z(" Annuler ",-1)])]),_:1},8,["disabled"]),B(R(s),{disabled:r.value||!o.value,variant:"secondary",rounded:"lg",onClick:i},{default:P(()=>[I("span",ct,$(r.value?"Envoi en cours...":"Envoyer l'email"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),mt={class:"py-4 space-y-4"},ft={class:"space-y-2"},vt={class:"text-sm font-medium text-secondary"},yt={style:{"font-family":"Roboto, sans-serif"}},ht={class:"py-6 text-center space-y-4"},bt={class:"space-y-2"},_t={class:"text-sm text-neutral-600"},gt=S({__name:"ChangeEmailDialog",props:{open:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const a=t,{user:l}=n(),r=q(!1),o=q(!1),i=F(()=>l.value?.email||""),u=ee(Q({newEmail:Z().min(1,"L'email est requis").email("Adresse email invalide").refine(e=>e.toLowerCase()!==i.value.toLowerCase(),"Le nouvel email doit être différent de l'actuel")})),{handleSubmit:d,resetForm:c,values:p}=W({validationSchema:u,initialValues:{newEmail:""}}),m=d(async e=>{r.value=!0;try{const t=await ie.requestEmailChange(e.newEmail);"success"===t.status?(o.value=!0,re.success("Un email de validation vous a été envoyé")):re.error(t.message||"Impossible de demander le changement d'email")}catch(t){re.error(oe(t))}finally{r.value=!1}});function f(){r.value||(o.value=!1,c(),a("update:open",!1))}return(t,a)=>(A(),D(R(we),{open:e.open,"onUpdate:open":f},{default:P(()=>[B(R(Ce),{class:"max-w-md"},{default:P(()=>[B(R(ke),null,{default:P(()=>[B(R(Ee),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[...a[1]||(a[1]=[z(" Modifier l'adresse email ",-1)])]),_:1}),B(R(Ie),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[z($(o.value?"Un email de validation a été envoyé.":"Entrez votre nouvelle adresse email."),1)]),_:1})]),_:1}),o.value?(A(),U(L,{key:1},[I("div",ht,[a[8]||(a[8]=I("div",{class:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},[I("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),I("div",bt,[I("p",_t,[a[6]||(a[6]=z(" Un email a été envoyé à ",-1)),I("strong",null,$(R(p).newEmail),1)]),a[7]||(a[7]=I("p",{class:"text-sm text-neutral-600"}," Cliquez sur le lien dans l'email pour valider le changement. ",-1))]),a[9]||(a[9]=I("p",{class:"text-xs text-muted-foreground"}," Le lien est valable 15 minutes. ",-1))]),B(R(ze),null,{default:P(()=>[B(R(s),{class:"w-full",onClick:f},{default:P(()=>[...a[10]||(a[10]=[z(" Fermer ",-1)])]),_:1})]),_:1})],64)):(A(),U("form",{key:0,class:"space-y-4",onSubmit:a[0]||(a[0]=H((...e)=>R(m)&&R(m)(...e),["prevent"]))},[I("div",mt,[I("div",ft,[a[2]||(a[2]=I("label",{class:"text-sm font-medium text-muted-foreground"}," Email actuel ",-1)),I("p",vt,$(i.value),1)]),B(R(te),{name:"newEmail"},{default:P(({componentField:e})=>[B(R(fe),null,{default:P(()=>[B(R(ve),null,{default:P(()=>[...a[3]||(a[3]=[z("Nouvel email",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j(e,{type:"email",placeholder:"nouveau@email.com",disabled:r.value}),null,16,["disabled"])]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),a[4]||(a[4]=I("p",{class:"text-xs text-muted-foreground"}," Un email de validation sera envoyé à votre nouvelle adresse. Le lien est valable 15 minutes. ",-1))]),B(R(ze),{class:"flex gap-0 md:gap-2"},{default:P(()=>[B(R(s),{variant:"outline",type:"button",rounded:"lg",color:"secondary",class:"hover:bg-secondary hover:border-secondary",disabled:r.value,onClick:f},{default:P(()=>[...a[5]||(a[5]=[z(" Annuler ",-1)])]),_:1},8,["disabled"]),B(R(s),{variant:"secondary",type:"submit",rounded:"lg",disabled:r.value||!R(p).newEmail},{default:P(()=>[I("span",yt,$(r.value?"Envoi en cours...":"Envoyer le lien"),1)]),_:1},8,["disabled"])]),_:1})],32))]),_:1})]),_:1},8,["open"]))}}),xt={class:"space-y-3"},wt={class:"grid grid-cols-2 gap-4"},Ct={class:"grid grid-cols-2 gap-4"},kt={class:"grid grid-cols-2 gap-4"},Et={class:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"},St={class:"truncate"},Dt={class:"flex justify-end pt-4"},At={class:"font-semibold tracking-wide"},Rt={class:"flex items-center justify-between"},jt={class:"flex items-center justify-between"},Pt=S({__name:"ProfileSection",setup(e){const{user:r,updateUserProfile:p}=n(),{avatarInitials:m,avatarUrl:f}=o(r),v=q(!1),y=q(!1),h=q(!1),b=q(),_=F(()=>({calendar:a.fas?.calendar})),g=e=>_.value[e],x=e=>{if(!e)return"";return`${e.day.toString().padStart(2,"0")}/${e.month.toString().padStart(2,"0")}/${e.year.toString()}`},w=C(k()),S=C(k()).subtract({years:120}),N=ee(Q({firstName:Z().optional(),lastName:Z().optional(),pseudo:Z().optional(),phone:Z().optional(),birthDate:Z().optional()})),L=F(()=>({firstName:r.value?.firstName??"",lastName:r.value?.lastName??"",pseudo:r.value?.pseudo??"",phone:r.value?.phone??"",birthDate:r.value?.birthDate??""})),{handleSubmit:M,resetForm:V,meta:H}=W({validationSchema:N,initialValues:L.value});G(()=>r.value,e=>{e&&(V({values:{firstName:e.firstName??"",lastName:e.lastName??"",pseudo:e.pseudo??"",phone:e.phone??"",birthDate:e.birthDate??""}}),b.value=(e=>{if(e&&/^\d{4}-\d{2}-\d{2}$/.test(e))try{return E(e)}catch{return}})(e.birthDate))},{immediate:!0,deep:!0});const K=M(async e=>{v.value=!0;try{await p({firstName:e.firstName||void 0,lastName:e.lastName||void 0,pseudo:e.pseudo||void 0,phone:e.phone||void 0,birthDate:e.birthDate||void 0}),re.success("Profil mis à jour avec succès !"),V({values:e})}catch(t){re.error(oe(t))}finally{v.value=!1}});return(e,a)=>(A(),U("div",xt,[B(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[...a[5]||(a[5]=[z("Informations personnelles",-1)])]),_:1}),B(R(ce),{style:{"font-family":"Roboto, sans-serif"}},{default:P(()=>[...a[6]||(a[6]=[z(" Mettez à jour vos informations de profil ",-1)])]),_:1})]),_:1}),B(R(de),{class:"space-y-6"},{default:P(()=>[O("",!0),B(R(i),{class:"hidden"}),I("form",{class:"space-y-4",onSubmit:a[0]||(a[0]=(...e)=>R(K)&&R(K)(...e))},[I("div",wt,[B(R(te),{name:"firstName"},{default:P(({componentField:e})=>[B(R(fe),{class:"gap-1"},{default:P(()=>[B(R(ve),{class:"text-sm font-medium text-neutral-700"},{default:P(()=>[...a[10]||(a[10]=[z("Prénom",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j({type:"text"},e,{class:"rounded-lg"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),B(R(te),{name:"lastName"},{default:P(({componentField:e})=>[B(R(fe),{class:"gap-1"},{default:P(()=>[B(R(ve),{class:"text-sm font-medium text-neutral-700"},{default:P(()=>[...a[11]||(a[11]=[z("Nom",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j({type:"text"},e,{class:"rounded-lg"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1})]),I("div",Ct,[B(R(te),{name:"pseudo"},{default:P(({componentField:e})=>[B(R(fe),{class:"gap-1"},{default:P(()=>[B(R(ve),{class:"text-sm font-medium text-neutral-700"},{default:P(()=>[...a[12]||(a[12]=[z("Pseudo",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(be),j({type:"text"},e,{class:"rounded-lg"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1}),B(R(te),{name:"phone"},{default:P(({componentField:e})=>[B(R(fe),{class:"gap-1"},{default:P(()=>[B(R(ve),{class:"text-sm font-medium text-neutral-700"},{default:P(()=>[...a[13]||(a[13]=[z("Téléphone",-1)])]),_:1}),B(R(ye),null,{default:P(()=>[B(R(_e),j(e,{placeholder:"6 12 34 56 78","initial-country":"fr","preferred-countries":["fr","be","ch","ca"],class:"rounded-lg"}),null,16)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1})]),I("div",kt,[B(R(te),{name:"birthDate"},{default:P(({setValue:e})=>[B(R(fe),{class:"gap-1"},{default:P(()=>[B(R(ve),{class:"text-sm font-medium text-neutral-700"},{default:P(()=>[...a[14]||(a[14]=[z("Date de naissance",-1)])]),_:1}),B(R(u),null,{default:P(()=>[B(R(d),{"as-child":""},{default:P(()=>[B(R(ye),null,{default:P(()=>[I("button",{type:"button",class:T(R(t)("border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","pl-10 text-left relative cursor-pointer",!b.value&&"text-muted-foreground"))},[I("div",Et,[g("calendar")?(A(),D(R(l),{key:0,icon:g("calendar"),class:"w-4 h-4"},null,8,["icon"])):O("",!0)]),I("span",St,$(b.value?x(b.value):"Sélectionner une date"),1)],2)]),_:1})]),_:1}),B(R(c),{class:"w-auto p-0",align:"start"},{default:P(()=>[B(R(ge),{"model-value":b.value,"max-value":R(w),"min-value":R(S),layout:"month-and-year",locale:"fr","initial-focus":"","onUpdate:modelValue":t=>((e,t)=>{const a=Array.isArray(e)?e[0]:e;a&&"object"==typeof a&&"year"in a?(b.value=a,t((e=>e?`${e.year.toString().padStart(4,"0")}-${e.month.toString().padStart(2,"0")}-${e.day.toString().padStart(2,"0")}`:"")(a))):(b.value=void 0,t(""))})(t,e)},null,8,["model-value","max-value","min-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),B(R(he))]),_:2},1024)]),_:1})]),I("div",Dt,[B(R(s),{type:"submit",variant:"secondary",rounded:"lg",disabled:!R(H).dirty||v.value},{default:P(()=>[I("span",At,$(v.value?"ENREGISTREMENT...":"ENREGISTRER LES MODIFICATIONS"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1}),B(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),null,{default:P(()=>[...a[15]||(a[15]=[z("Sécurité",-1)])]),_:1}),B(R(ce),null,{default:P(()=>[...a[16]||(a[16]=[z(" Gérez la sécurité de votre compte ",-1)])]),_:1})]),_:1}),B(R(de),{class:"space-y-6"},{default:P(()=>[I("div",Rt,[a[18]||(a[18]=I("div",{class:"space-y-1"},[I("h3",{class:"text-sm font-semibold text-neutral-700"}," Mot de passe "),I("p",{class:"text-sm text-muted-foreground"}," Modifiez votre mot de passe pour sécuriser votre compte ")],-1)),B(R(s),{variant:"ghost",size:"sm",class:"text-red-500 hover:text-red-600 hover:bg-transparent",onClick:a[1]||(a[1]=e=>y.value=!0)},{default:P(()=>[...a[17]||(a[17]=[z(" Changer le mot de passe ",-1)])]),_:1})]),B(R(i)),I("div",jt,[a[20]||(a[20]=I("div",{class:"space-y-1"},[I("h3",{class:"text-sm font-semibold text-neutral-700"}," Adresse email de connexion "),I("p",{class:"text-sm text-muted-foreground"}," Modifiez l'adresse email utilisée pour vous connecter ")],-1)),B(R(s),{variant:"ghost",size:"sm",class:"text-red-500 hover:text-red-600 hover:bg-transparent",onClick:a[2]||(a[2]=e=>h.value=!0)},{default:P(()=>[...a[19]||(a[19]=[z(" Modifier l'adresse email ",-1)])]),_:1})])]),_:1})]),_:1}),B(it),B(pt,{open:y.value,"onUpdate:open":a[3]||(a[3]=e=>y.value=e)},null,8,["open"]),B(gt,{open:h.value,"onUpdate:open":a[4]||(a[4]=e=>h.value=e)},null,8,["open"])]))}}),Nt={portefeuillepermanent:"portefeuille",metauxprecieux:"metaux",libertefinanciere:"liberte",bonus:"bonus"},Ut={metaux:"Métaux Précieux",portefeuille:"Portefeuille Permanent",liberte:"Liberté Financière",bonus:"Bonus"},Tt={essentiel:"Essentiel",standard:"Standard",premium:"Premium"};class Ft extends Error{statusCode;originalError;constructor(e,t,a){super(e),this.name="UserSubscriptionAPIError",this.statusCode=t,this.originalError=a}}function Bt(e){return Nt[e]||"bonus"}function It(e){return new Date(e).toLocaleDateString("fr-FR")}function zt(e){return e/100}function Lt(e){const t=Bt(e.technicalTag);return{id:String(e.subscriptionId),theme:t,themeName:Ut[t],plan:Tt[e.planName]||e.planName,billingPeriod:(a=e.regularInterval,"P1Y"===a?"annuel":"mensuel"),status:"canceled"===e.status?"cancelled":e.status,price:zt(e.billingScheme_array[0]?.price||0),subscribedSince:It(e.dateStart),nextBilling:e.nextPaymentDate?It(e.nextPaymentDate):null};var a}function Mt(e){const t=Bt(e.technicalTag);return{id:String(e.paymentId),theme:t,label:`${Tt[e.planName]||e.planName} - ${Ut[t]}`,date:It(e.execution),amount:zt(e.amount),downloadUrl:e.invoiceUrl}}const $t={FETCH:"/fetchUserSubscription",UPDATE_PAYMENT:"/updateOneClickPayment"},Ot=3e4;const qt=new class{abortController=null;async fetchUserSubscriptions(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController;try{const e=setTimeout(()=>{this.abortController?.abort()},Ot),t=await ae.get($t.FETCH,{signal:this.abortController.signal});if(clearTimeout(e),!t||"success"!==t.status)throw new Ft(t?.message||"Structure de réponse API invalide");return{subscriptions:(t.subscription_array||[]).map(Lt),invoices:(t.invoice_array||[]).map(Mt)}}catch(e){if(e instanceof Ft)throw e;const t=e;if(t.response)throw new Ft(`Erreur HTTP: ${t.response.status} ${t.response.statusText}`,t.response.status);if(t.request){if("ECONNABORTED"===t.code||"AbortError"===t.name)throw new Ft("Requête annulée ou timeout");throw new Ft("Aucune réponse du serveur")}if(e instanceof Error)throw new Ft(`Erreur lors de la récupération des abonnements: ${e.message}`,void 0,e);throw new Ft("Erreur inconnue lors de la récupération des abonnements")}finally{this.abortController=null}}cancelRequest(){this.abortController&&(this.abortController.abort(),this.abortController=null)}async updatePaymentMethod(){try{const e=await ae.post($t.UPDATE_PAYMENT);if(!e||"success"!==e.status)throw new Ft(e?.message||"Erreur lors de la mise à jour du moyen de paiement");return e}catch(e){if(e instanceof Ft)throw e;const t=e;if(t.response)throw new Ft(`Erreur HTTP: ${t.response.status} ${t.response.statusText}`,t.response.status);if(t.request)throw new Ft("Aucune réponse du serveur");if(e instanceof Error)throw new Ft(`Erreur lors de la mise à jour du moyen de paiement: ${e.message}`,void 0,e);throw new Ft("Erreur inconnue lors de la mise à jour du moyen de paiement")}}},Vt=K("userSubscription",()=>{const e=q([]),t=q([]),a=q(!1),s=q(null),l=q(0),n=q(!1),r=q(null),o=F(()=>e.value.filter(e=>"cancelled"!==e.status)),i=F(()=>e.value.filter(e=>"cancelled"===e.status)),u=F(()=>e.value.length>0||t.value.length>0),d=F(()=>e.value.length),c=F(()=>o.value.length);async function p(n=!1){if(n||!u.value){a.value=!0,s.value=null;try{const a=await qt.fetchUserSubscriptions();e.value=a.subscriptions,t.value=a.invoices,l.value=Date.now()}catch(r){const e=r instanceof Ft?r.message:"Impossible de charger vos abonnements";s.value=e,se.error("❌ Failed to fetch user subscriptions:",r)}finally{a.value=!1}}}return{subscriptions:e,invoices:t,isLoading:a,error:s,lastFetchTimestamp:l,isUpdatingPayment:n,paymentUpdateResult:r,activeSubscriptions:o,cancelledSubscriptions:i,hasData:u,totalSubscriptions:d,activeCount:c,fetchData:p,refresh:async function(){await p(!0)},clearData:function(){e.value=[],t.value=[],l.value=0,s.value=null,r.value=null},updatePaymentMethod:async function(){n.value=!0,s.value=null;try{const e=await qt.updatePaymentMethod();return r.value=e,e}catch(e){const t=e instanceof Ft?e.message:"Impossible de mettre à jour le moyen de paiement";return s.value=t,se.error("❌ Failed to update payment method:",e),null}finally{n.value=!1}},clearPaymentResult:function(){r.value=null}}}),Ht={class:"py-4"},Gt={key:0,class:"text-destructive text-sm mt-2"},Kt=S({__name:"PaymentMethodDialog",props:{open:{type:Boolean},stripePublicKey:{},clientSecret:{}},emits:["update:open","success","error"],setup(e,{emit:t}){const n=e,r=t,o=q(null),i=q(null),u=q(!1),d=q(null),c={spinner:a.fas?.spinner,creditCard:a.fas?.["credit-card"]};async function p(){if(!o.value||!i.value||!n.clientSecret)return;u.value=!0,d.value=null;const{error:e}=await o.value.confirmCardSetup(n.clientSecret,{payment_method:{card:i.value}});u.value=!1,e?(d.value=e.message||"Erreur lors de la mise à jour",r("error",d.value)):(r("success"),r("update:open",!1))}function m(){u.value||r("update:open",!1)}return G(()=>n.open,async e=>{if(e&&n.stripePublicKey){if(d.value=null,o.value=await Se(n.stripePublicKey),o.value){await J();const e=o.value.elements();i.value=e.create("card",{style:{base:{fontSize:"16px",color:"#1d1d1d","::placeholder":{color:"#a0a0a0"}}}}),i.value.mount("#stripe-card-element")}}else e||(i.value?.unmount(),i.value=null,o.value=null)}),Y(()=>{i.value?.unmount()}),(t,a)=>(A(),D(R(we),{open:e.open,"onUpdate:open":m},{default:P(()=>[B(R(Ce),{class:"sm:max-w-md"},{default:P(()=>[B(R(ke),null,{default:P(()=>[B(R(Ee),{class:"flex items-center gap-2"},{default:P(()=>[c.creditCard?(A(),D(R(l),{key:0,icon:c.creditCard,class:"w-5 h-5"},null,8,["icon"])):O("",!0),a[0]||(a[0]=z(" Modifier le moyen de paiement ",-1))]),_:1}),B(R(Ie),null,{default:P(()=>[...a[1]||(a[1]=[z(" Ce nouveau moyen de paiement sera utilisé pour tous vos abonnements actifs. ",-1)])]),_:1})]),_:1}),I("div",Ht,[a[2]||(a[2]=I("div",{id:"stripe-card-element",class:"border rounded-md p-3 bg-white min-h-10"},null,-1)),d.value?(A(),U("p",Gt,$(d.value),1)):O("",!0)]),B(R(ze),{class:"gap-2"},{default:P(()=>[B(R(s),{variant:"outline",rounded:"lg",class:"text-secondary hover:text-secondary",disabled:u.value,onClick:m},{default:P(()=>[...a[3]||(a[3]=[z(" Annuler ",-1)])]),_:1},8,["disabled"]),B(R(s),{disabled:u.value||!i.value,rounded:"lg",class:"text-secondary",onClick:p},{default:P(()=>[u.value&&c.spinner?(A(),D(R(l),{key:0,icon:c.spinner,class:"w-4 h-4 mr-2 animate-spin"},null,8,["icon"])):O("",!0),z(" "+$(u.value?"Traitement...":"Enregistrer"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),Yt={class:"space-y-3"},Jt={key:0,class:"text-center py-12"},Qt={key:1,class:"text-center py-12"},Xt={class:"text-destructive mb-4"},Zt={class:"flex items-start justify-between mb-3"},Wt={class:"font-semibold text-sm text-neutral-900"},ea={key:0,class:"text-sm text-destructive mb-3"},ta={class:"space-y-2 text-sm"},aa={key:0,class:"flex justify-between"},sa={class:"font-semibold text-neutral-900"},la={key:1,class:"flex justify-between items-center"},na={class:"flex justify-between"},ra={class:"text-neutral-600 flex items-center gap-1.5"},oa={class:"text-neutral-900"},ia={class:"flex justify-between"},ua={class:"text-neutral-600 flex items-center gap-1.5"},da={class:"flex items-start justify-between mb-3"},ca={class:"font-semibold text-sm text-neutral-900"},pa={class:"space-y-2 text-sm"},ma={class:"flex justify-between"},fa={class:"text-neutral-600 flex items-center gap-1.5"},va={class:"text-neutral-900"},ya={class:"flex justify-between"},ha={class:"text-neutral-600 flex items-center gap-1.5"},ba={class:"flex items-center justify-between py-2"},_a={class:"flex items-center justify-between py-2"},ga={class:"flex items-center justify-between py-2"},xa={key:1,class:"border rounded-lg overflow-hidden"},wa={class:"flex items-center gap-2"},Ca=S({__name:"SubscriptionSection",setup(e){const t=Vt();V(()=>{t.fetchData()});const n=F(()=>({check:a.fas?.check,calendar:a.fas?.calendar,chevronDown:a.fas?.["chevron-down"],fileLines:a.fas?.["file-lines"],download:a.fas?.download,fileInvoice:a.fas?.["file-invoice"],spinner:a.fas?.spinner,triangleExclamation:a.fas?.["triangle-exclamation"],undo:a.fas?.undo,newspaper:a.far?.newspaper})),o=e=>n.value[e],i=q(!1),u=q(!1),d=q(null),c=q(null);async function p(){const e=await t.updatePaymentMethod();"success"===e?.status&&e.stripePublicKey&&e.client_secret&&(d.value=e.stripePublicKey,c.value=e.client_secret,u.value=!0)}function m(){t.clearPaymentResult()}function f(e){re.error(e)}const y=e=>({metaux:"border-[var(--color-theme-metaux)] bg-[var(--color-theme-metaux)]/20",portefeuille:"border-[var(--color-theme-portefeuille)] bg-[var(--color-theme-portefeuille)]/20",liberte:"border-[var(--color-theme-liberte)] bg-[var(--color-theme-liberte)]/20",bonus:"border-[var(--color-theme-bonus)] bg-[var(--color-theme-bonus)]/20"}[e]),h=e=>({metaux:"text-[var(--color-theme-metaux)]",portefeuille:"text-[var(--color-theme-portefeuille)]",liberte:"text-[var(--color-theme-liberte)]",bonus:"text-[var(--color-theme-bonus)]"}[e]),b=e=>`${e.themeName} - ${e.plan} (${e.billingPeriod})`;return(e,a)=>(A(),U("div",Yt,[R(t).isLoading?(A(),U("div",Jt,[o("spinner")?(A(),D(R(l),{key:0,icon:o,class:"w-8 h-8 text-neutral-400 animate-spin mb-4"},null,8,["icon"])):O("",!0),a[3]||(a[3]=I("p",{class:"text-neutral-600"},"Chargement de vos abonnements...",-1))])):R(t).error?(A(),U("div",Qt,[o("triangleExclamation")?(A(),D(R(l),{key:0,icon:o,class:"w-8 h-8 text-destructive mb-4"},null,8,["icon"])):O("",!0),I("p",Xt,$(R(t).error),1),B(R(s),{variant:"outline",onClick:a[0]||(a[0]=e=>R(t).refresh())},{default:P(()=>[o("undo")?(A(),D(R(l),{key:0,icon:o,class:"w-4 h-4 mr-2"},null,8,["icon"])):O("",!0),a[4]||(a[4]=z(" Réessayer ",-1))]),_:1})])):(A(),U(L,{key:2},[B(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),null,{default:P(()=>[...a[5]||(a[5]=[z("Abonnements",-1)])]),_:1}),B(R(ce),null,{default:P(()=>[...a[6]||(a[6]=[z(" Gérez votre abonnement aux consultations ",-1)])]),_:1})]),_:1}),B(R(de),{class:"space-y-4"},{default:P(()=>[0===R(t).activeSubscriptions.length&&0===R(t).cancelledSubscriptions.length?(A(),D(R(r),{key:0,title:"Aucun abonnement",description:"Vous n'avez pas encore souscrit à un abonnement.",class:"py-8"},{icon:P(()=>[o("newspaper")?(A(),D(R(l),{key:0,icon:o,class:"w-full h-full"},null,8,["icon"])):O("",!0)]),_:1})):O("",!0),(A(!0),U(L,null,M(R(t).activeSubscriptions,e=>{return A(),U("div",{key:e.id,class:T(["border rounded-lg p-4",y(e.theme)])},[I("div",Zt,[I("h3",Wt,$(b(e)),1),"active"===e.status?(A(),D(R(v),{key:0,class:"bg-green-500 text-white"},{default:P(()=>[o("check")?(A(),D(R(l),{key:0,icon:o,class:"w-3 h-3 mr-1"},null,8,["icon"])):O("",!0),a[7]||(a[7]=z(" Actif ",-1))]),_:1})):"suspended"===e.status?(A(),D(R(v),{key:1,class:"bg-red-500 text-white"},{default:P(()=>[...a[8]||(a[8]=[z(" Suspendu ",-1)])]),_:1})):O("",!0)]),"suspended"===e.status?(A(),U("p",ea,[a[10]||(a[10]=z(" Votre moyen de paiement a été refusé. ",-1)),B(R(s),{type:"button",disabled:R(t).isUpdatingPayment,variant:"link",color:"destructive",class:"underline px-0",onClick:p},{default:P(()=>[R(t).isUpdatingPayment&&o("spinner")?(A(),D(R(l),{key:0,icon:o,class:"w-3 h-3 mr-1 animate-spin"},null,8,["icon"])):O("",!0),a[9]||(a[9]=z(" Merci de le mettre à jour. ",-1))]),_:1},8,["disabled"])])):O("",!0),I("div",ta,["active"===e.status?(A(),U("div",aa,[a[11]||(a[11]=I("span",{class:"text-neutral-600"},"Prix",-1)),I("span",sa,$((n=e.price,r=e.billingPeriod,`${n}€/${"mensuel"===r?"mois":"an"}`)),1)])):O("",!0),e.discount?(A(),U("div",la,[a[12]||(a[12]=I("span",{class:"text-neutral-600"},"Réduction appliquée",-1)),B(R(v),{variant:"outline",class:"text-xs"},{default:P(()=>[z($(e.discount)+"% ",1)]),_:2},1024)])):O("",!0),I("div",na,[I("span",ra,[o("calendar")?(A(),D(R(l),{key:0,icon:o,class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0),a[13]||(a[13]=z(" Abonné depuis ",-1))]),I("span",oa,$(e.subscribedSince),1)]),I("div",ia,[I("span",ua,[o("calendar")?(A(),D(R(l),{key:0,icon:o,class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0),a[14]||(a[14]=z(" Prochain prélèvement ",-1))]),I("span",{class:T(e.nextBilling?"text-neutral-900":"text-red-500")},$(e.nextBilling||"Suspendu"),3)])])],2);var n,r}),128)),R(t).cancelledSubscriptions.length>0?(A(),D(R(De),{key:1,open:i.value,"onUpdate:open":a[1]||(a[1]=e=>i.value=e),class:"border-t pt-4"},{default:P(()=>[B(R(Ae),{class:"flex items-center justify-between w-full py-2 hover:bg-neutral-50 rounded px-2 -mx-2"},{default:P(()=>[a[15]||(a[15]=I("span",{class:"text-sm font-medium text-neutral-700"},"Historique d'abonnement",-1)),o("chevronDown")?(A(),D(R(l),{key:0,icon:o,class:T(["w-4 h-4 text-neutral-500 transition-transform",i.value?"rotate-180":""])},null,8,["icon","class"])):O("",!0)]),_:1}),B(R(Re),{class:"pt-4 space-y-3"},{default:P(()=>[(A(!0),U(L,null,M(R(t).cancelledSubscriptions,e=>(A(),U("div",{key:e.id,class:T(["border rounded-lg p-4",y(e.theme)])},[I("div",da,[I("h3",ca,$(b(e)),1),B(R(v),{variant:"secondary",class:"bg-neutral-800 text-white"},{default:P(()=>[...a[16]||(a[16]=[z(" Résilié ",-1)])]),_:1})]),I("div",pa,[I("div",ma,[I("span",fa,[o("calendar")?(A(),D(R(l),{key:0,icon:o,class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0),a[17]||(a[17]=z(" Abonné depuis ",-1))]),I("span",va,$(e.subscribedSince),1)]),I("div",ya,[I("span",ha,[o("calendar")?(A(),D(R(l),{key:0,icon:o,class:"w-3.5 h-3.5"},null,8,["icon"])):O("",!0),a[18]||(a[18]=z(" Prochain prélèvement ",-1))]),a[19]||(a[19]=I("span",{class:"text-neutral-500"},"Résilié",-1))])])],2))),128))]),_:1})]),_:1},8,["open"])):O("",!0)]),_:1})]),_:1}),B(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),null,{default:P(()=>[...a[20]||(a[20]=[z("Sécurité",-1)])]),_:1}),B(R(ce),null,{default:P(()=>[...a[21]||(a[21]=[z(" Gérez la sécurité de votre compte ",-1)])]),_:1})]),_:1}),B(R(de),{class:"space-y-4"},{default:P(()=>[I("div",ba,[a[23]||(a[23]=I("div",{class:"space-y-0.5"},[I("h3",{class:"text-sm font-semibold text-neutral-900"}," Moyen de paiement "),I("p",{class:"text-sm text-muted-foreground"}," Modifiez votre mot de passe pour sécuriser votre compte ")],-1)),B(R(s),{disabled:R(t).isUpdatingPayment||0===R(t).activeSubscriptions.length,variant:"ghost",size:"sm",class:"text-red-500 hover:text-red-600 hover:bg-transparent",onClick:p},{default:P(()=>[R(t).isUpdatingPayment&&o("spinner")?(A(),D(R(l),{key:0,icon:o,class:"w-4 h-4 mr-2 animate-spin"},null,8,["icon"])):O("",!0),a[22]||(a[22]=z(" Changer le moyen de paiement ",-1))]),_:1},8,["disabled"])]),I("div",_a,[a[25]||(a[25]=I("div",{class:"space-y-0.5"},[I("h3",{class:"text-sm font-semibold text-neutral-900"}," Adresse de livraison "),I("p",{class:"text-sm text-muted-foreground"}," Modifiez l'adresse utilisée pour la livraison ")],-1)),B(R(s),{variant:"ghost",size:"sm",class:"text-neutral-900 hover:text-neutral-900 hover:bg-transparent font-medium"},{default:P(()=>[...a[24]||(a[24]=[z(" Modifier l'adresse de livraison ",-1)])]),_:1})]),I("div",ga,[a[27]||(a[27]=I("div",{class:"space-y-0.5"},[I("h3",{class:"text-sm font-semibold text-neutral-900"}," Adresse de facturation "),I("p",{class:"text-sm text-muted-foreground"}," Modifiez l'adresse utilisée pour la facturation ")],-1)),B(R(s),{variant:"ghost",size:"sm",class:"text-neutral-900 hover:text-neutral-900 hover:bg-transparent font-medium"},{default:P(()=>[...a[26]||(a[26]=[z(" Modifier l'adresse de facturation ",-1)])]),_:1})])]),_:1})]),_:1}),B(R(ue),{class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),{class:"flex items-center gap-2"},{default:P(()=>[o("fileInvoice")?(A(),D(R(l),{key:0,icon:o,class:"w-5 h-5"},null,8,["icon"])):O("",!0),a[28]||(a[28]=z(" Historique de facturation ",-1))]),_:1}),B(R(ce),null,{default:P(()=>[...a[29]||(a[29]=[z(" Consultez vos factures d'abonnement ",-1)])]),_:1})]),_:1}),B(R(de),null,{default:P(()=>[0===R(t).invoices.length?(A(),D(R(r),{key:0,title:"Aucune facture",description:"Vous n'avez pas encore de facture d'abonnement.",class:"py-8"},{icon:P(()=>[o("fileInvoice")?(A(),D(R(l),{key:0,icon:o,class:"w-full h-full"},null,8,["icon"])):O("",!0)]),_:1})):(A(),U("div",xa,[B(R(je),null,{default:P(()=>[B(R(Pe),null,{default:P(()=>[B(R(Ne),{class:"hover:bg-transparent"},{default:P(()=>[B(R(Ue),null,{default:P(()=>[...a[30]||(a[30]=[z("Article",-1)])]),_:1}),B(R(Ue),null,{default:P(()=>[...a[31]||(a[31]=[z("Date",-1)])]),_:1}),B(R(Ue),{class:"text-right"},{default:P(()=>[...a[32]||(a[32]=[z("Montant",-1)])]),_:1}),B(R(Ue),{class:"text-center"},{default:P(()=>[...a[33]||(a[33]=[z("Facture",-1)])]),_:1})]),_:1})]),_:1}),B(R(Te),null,{default:P(()=>[(A(!0),U(L,null,M(R(t).invoices,e=>{return A(),D(R(Ne),{key:e.id,class:T((t=e.theme,{metaux:"bg-[var(--color-theme-metaux)]/20",portefeuille:"bg-[var(--color-theme-portefeuille)]/20",liberte:"bg-[var(--color-theme-liberte)]/20",bonus:"bg-[var(--color-theme-bonus)]/20"}[t]))},{default:P(()=>[B(R(Fe),null,{default:P(()=>[I("div",wa,[n.value.fileLines?(A(),D(R(l),{key:0,icon:n.value.fileLines,class:T(["w-4 h-4",h(e.theme)])},null,8,["icon","class"])):O("",!0),I("span",null,$(e.label),1)])]),_:2},1024),B(R(Fe),{class:"text-muted-foreground"},{default:P(()=>[z($(e.date),1)]),_:2},1024),B(R(Fe),{class:"text-right"},{default:P(()=>{return[z($((t=e.amount,t.toFixed(2).replace(".",",")))+" €",1)];var t}),_:2},1024),B(R(Fe),{class:"text-center"},{default:P(()=>[B(R(s),{variant:"ghost",color:"secondary",size:"icon",class:"h-8 w-8","aria-label":"Télécharger la facture",onClick:t=>(e=>{e.downloadUrl&&window.open(e.downloadUrl,"_blank","noopener,noreferrer")})(e)},{default:P(()=>[n.value.download?(A(),D(R(l),{key:0,icon:n.value.download,class:"w-4 h-4"},null,8,["icon"])):O("",!0)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1032,["class"]);var t}),128))]),_:1})]),_:1})]))]),_:1})]),_:1})],64)),B(Kt,{open:u.value,"onUpdate:open":a[2]||(a[2]=e=>u.value=e),"stripe-public-key":d.value,"client-secret":c.value,onSuccess:m,onError:f},null,8,["open","stripe-public-key","client-secret"])]))}});class ka extends Error{statusCode;originalError;constructor(e,t,a){super(e),this.name="ShopOrdersAPIError",this.statusCode=t,this.originalError=a}}const Ea={FETCH:"/fetchPaidInvoicePerOrder"},Sa=3e4;const Da=new class{abortController=null;async fetchOrders(){this.abortController&&this.abortController.abort(),this.abortController=new AbortController;try{const e=setTimeout(()=>{this.abortController?.abort()},Sa),t=await ae.get(Ea.FETCH,{signal:this.abortController.signal});clearTimeout(e);let a=[];if(Array.isArray(t))a=t;else{if(!t||"object"!=typeof t)throw new ka("Structure de réponse API invalide");if("error"===t.status)throw new ka(t.message||"Erreur API");a=t.invoice_array||[]}return a.map(e=>function(e){const t=e.invoiceUrl&&"jdp"!==e.currency&&e.amount>0;return{id:String(e.paymentId),orderNumber:e.name,date:(s=e.execution,new Date(s).toLocaleDateString("fr-FR")),amount:(a=e.amount,a/100),currency:e.currency,downloadUrl:t?e.invoiceUrl:null};var a,s}(e))}catch(e){if(e instanceof ka)throw e;const t=e;if(t.response)throw new ka(`Erreur HTTP: ${t.response.status} ${t.response.statusText}`,t.response.status);if(t.request){if("ECONNABORTED"===t.code||"AbortError"===t.name)throw new ka("Requête annulée ou timeout");throw new ka("Aucune réponse du serveur")}if(e instanceof Error)throw new ka(`Erreur lors de la récupération des commandes: ${e.message}`,void 0,e);throw new ka("Erreur inconnue lors de la récupération des commandes")}finally{this.abortController=null}}cancelRequest(){this.abortController&&(this.abortController.abort(),this.abortController=null)}},Aa=K("shopOrders",()=>{const e=q([]),t=q(!1),a=q(null),s=q(0),l=F(()=>e.value.length>0),n=F(()=>e.value.length);async function r(n=!1){if(n||!l.value){t.value=!0,a.value=null;try{const t=await Da.fetchOrders();e.value=t,s.value=Date.now()}catch(r){const e=r instanceof ka?r.message:"Impossible de charger vos achats";a.value=e}finally{t.value=!1}}}return{orders:e,isLoading:t,error:a,lastFetchTimestamp:s,hasData:l,totalOrders:n,fetchData:r,refresh:async function(){await r(!0)},clearData:function(){e.value=[],s.value=0,a.value=null}}}),Ra={key:0,class:"text-center py-12"},ja={key:1,class:"text-center py-12"},Pa={class:"text-destructive mb-4"},Na={key:1,class:"border rounded-lg overflow-hidden"},Ua={class:"flex items-center gap-2"},Ta={class:"text-neutral-800"},Fa=S({__name:"PurchasesSection",setup(e){const t=Aa();V(()=>{t.fetchData()});const n=F(()=>({fileLines:a.fas?.["file-lines"],download:a.fas?.download,shoppingBag:a.fas?.["shopping-bag"],spinner:a.fas?.spinner,triangleExclamation:a.fas?.["triangle-exclamation"],undo:a.fas?.undo}));return(e,a)=>R(t).isLoading?(A(),U("div",Ra,[n.value.spinner?(A(),D(R(l),{key:0,icon:n.value.spinner,class:"w-8 h-8 text-neutral-400 animate-spin mb-4"},null,8,["icon"])):O("",!0),a[1]||(a[1]=I("p",{class:"text-neutral-600"},"Chargement de vos achats...",-1))])):R(t).error?(A(),U("div",ja,[n.value.triangleExclamation?(A(),D(R(l),{key:0,icon:n.value.triangleExclamation,class:"w-8 h-8 text-destructive mb-4"},null,8,["icon"])):O("",!0),I("p",Pa,$(R(t).error),1),B(R(s),{variant:"outline",onClick:a[0]||(a[0]=e=>R(t).refresh())},{default:P(()=>[n.value.undo?(A(),D(R(l),{key:0,icon:n.value.undo,class:"w-4 h-4 mr-2"},null,8,["icon"])):O("",!0),a[2]||(a[2]=z(" Réessayer ",-1))]),_:1})])):(A(),D(R(ue),{key:2,class:"border-secondary"},{default:P(()=>[B(R(pe),null,{default:P(()=>[B(R(me),null,{default:P(()=>[...a[3]||(a[3]=[z("Mes achats",-1)])]),_:1}),B(R(ce),null,{default:P(()=>[...a[4]||(a[4]=[z(" Retrouvez ici l'historique de vos achats ",-1)])]),_:1})]),_:1}),B(R(de),null,{default:P(()=>[0===R(t).orders.length?(A(),D(R(r),{key:0,title:"Aucun achat",description:"Vous n'avez encore effectué aucun achat."},{icon:P(()=>[n.value.shoppingBag?(A(),D(R(l),{key:0,icon:n.value.shoppingBag,class:"w-full h-full"},null,8,["icon"])):O("",!0)]),_:1})):(A(),U("div",Na,[B(R(je),null,{default:P(()=>[B(R(Pe),null,{default:P(()=>[B(R(Ne),null,{default:P(()=>[B(R(Ue),{class:"font-medium"},{default:P(()=>[...a[5]||(a[5]=[z("N° Commande",-1)])]),_:1}),B(R(Ue),{class:"font-medium"},{default:P(()=>[...a[6]||(a[6]=[z("Date",-1)])]),_:1}),B(R(Ue),{class:"font-medium text-right"},{default:P(()=>[...a[7]||(a[7]=[z("Montant",-1)])]),_:1}),B(R(Ue),{class:"font-medium text-center w-[100px]"},{default:P(()=>[...a[8]||(a[8]=[z("Facture",-1)])]),_:1})]),_:1})]),_:1}),B(R(Te),null,{default:P(()=>[(A(!0),U(L,null,M(R(t).orders,e=>(A(),D(R(Ne),{key:e.id},{default:P(()=>[B(R(Fe),null,{default:P(()=>[I("div",Ua,[n.value.fileLines?(A(),D(R(l),{key:0,icon:n.value.fileLines,class:"w-4 h-4 text-neutral-400"},null,8,["icon"])):O("",!0),I("span",Ta,$(e.orderNumber),1)])]),_:2},1024),B(R(Fe),{class:"text-neutral-600"},{default:P(()=>[z($(e.date),1)]),_:2},1024),B(R(Fe),{class:"text-right font-medium text-neutral-800"},{default:P(()=>{return[z($((t=e.amount,new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t))),1)];var t}),_:2},1024),B(R(Fe),{class:"text-center"},{default:P(()=>[B(R(s),{variant:"ghost",size:"sm",disabled:!e.downloadUrl,class:T(["h-8 w-8 p-0",!e.downloadUrl&&"opacity-50 cursor-not-allowed"]),title:e.downloadUrl?"Télécharger la facture":"Facture non disponible",onClick:t=>(e=>{e.downloadUrl&&window.open(e.downloadUrl,"_blank","noopener,noreferrer")})(e)},{default:P(()=>[n.value.download?(A(),D(R(l),{key:0,icon:n.value.download,class:"w-4 h-4 text-neutral-600"},null,8,["icon"])):O("",!0)]),_:1},8,["disabled","class","title","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}))}}),Ba={class:"bg-neutral-50 flex flex-1 justify-center items-start py-16"},Ia={class:"w-3xl mx-auto px-4"},za={class:"mb-8"},La={class:"flex items-center gap-4 mb-4"},Ma={class:"font-bold text-3xl text-neutral-800",style:{"font-family":"Roboto, sans-serif"}},$a={class:"flex items-center gap-2 mt-1"},Oa={key:0,class:"text-neutral-500 text-sm",style:{"font-family":"Roboto, sans-serif"}},qa=S({__name:"AccountPage",setup(e){const{user:t}=n(),{displayName:a,avatarInitials:s,avatarUrl:l,memberSince:r,isProfileComplete:i}=o(t),u=q("profile");return(e,t)=>(A(),D(y,null,{default:P(()=>[I("section",Ba,[I("div",Ia,[I("div",za,[I("div",La,[B(R(p),{class:"h-16 w-16"},{default:P(()=>[R(l)?(A(),D(R(m),{key:0,src:R(l),alt:"Photo de profil"},null,8,["src"])):O("",!0),B(R(f),{class:"text-2xl font-bold bg-secondary text-primary"},{default:P(()=>[z($(R(s)),1)]),_:1})]),_:1}),I("div",null,[I("h1",Ma," Bonjour "+$(R(a)),1),I("div",$a,[R(r)?(A(),U("p",Oa,$(R(r)),1)):O("",!0),R(i)?O("",!0):(A(),D(R(v),{key:1,variant:"outline",class:"text-amber-600 border-amber-300"},{default:P(()=>[...t[1]||(t[1]=[z(" Profil incomplet ",-1)])]),_:1}))])])]),t[2]||(t[2]=I("p",{class:"text-neutral-600",style:{"font-family":"Roboto, sans-serif"}}," Gérez vos informations personnelles et vos préférences ",-1))]),B(R(_),{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),class:"w-full"},{default:P(()=>[B(R(h),{class:"grid w-full grid-cols-3 rounded-lg"},{default:P(()=>[B(R(b),{value:"profile",class:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-secondary data-[state=inactive]:hover:bg-primary/20 cursor-pointer"},{default:P(()=>[...t[3]||(t[3]=[I("span",{style:{"font-family":"Roboto, sans-serif"}},"Profil",-1)])]),_:1}),B(R(b),{value:"subscription",class:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-secondary data-[state=inactive]:hover:bg-primary/20 cursor-pointer"},{default:P(()=>[...t[4]||(t[4]=[I("span",{style:{"font-family":"Roboto, sans-serif"}},"Abonnements",-1)])]),_:1}),B(R(b),{value:"purchases",class:"rounded-lg data-[state=active]:bg-primary data-[state=active]:text-secondary data-[state=inactive]:hover:bg-primary/20 cursor-pointer"},{default:P(()=>[...t[5]||(t[5]=[I("span",{style:{"font-family":"Roboto, sans-serif"}},"Mes achats",-1)])]),_:1})]),_:1}),B(R(Be),{value:"profile"},{default:P(()=>[B(Pt)]),_:1}),B(R(Be),{value:"subscription"},{default:P(()=>[B(Ca)]),_:1}),B(R(Be),{value:"purchases"},{default:P(()=>[B(Fa)]),_:1})]),_:1},8,["modelValue"])])])]),_:1}))}});export{qa as default};
