import{n as e}from"./news.service-C63P7LKh.js";import{u as a}from"./index-BamJDk-5.js";import{b as s,c as t,F as l,d as r}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-Br6uEOr3.js";import{N as o}from"./NewsCatalogCard-BhIPrePg.js";import{A as u,l as i,a as n,m as c,G as d,I as m,H as v,U as p,K as f,Q as g,L as _,W as k,u as x,V as y,F as b,Z as h}from"./vue-vendor-BHZkLje3.js";import"./ui-vendor-Dpzf4R5k.js";import"./Card.vue_vue_type_script_setup_true_lang-BImqj4dv.js";import"./BookmarkButton.vue_vue_type_script_setup_true_lang-DXDfxjsK.js";import"./AspectRatio.vue_vue_type_script_setup_true_lang-CQwfCPqO.js";const w={class:"min-h-screen bg-white"},j={class:"max-w-7xl mx-auto px-4 md:px-8 py-8 md:py-12"},L={class:"mb-8"},z={class:"flex items-center gap-3 mb-2"},A={key:0,class:"text-muted-foreground"},B={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},C={key:1,class:"flex flex-col items-center justify-center py-20 text-center"},N={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},R=u({__name:"BookmarksPage",setup(u){const R=a(),I=i([]),P=i(!0),F=n(()=>({bookmark:s.fas?.bookmark,arrowLeft:s.fas?.["arrow-left"]})),S=n(()=>I.value.length);return c(async()=>{R.isInitialized||await R.initialize();const a=Array.from(R.slugs);if(0!==a.length)try{const s=await Promise.allSettled(a.map(a=>e.fetchNewsItem(a)));I.value=s.filter(e=>"fulfilled"===e.status).map(e=>e.value)}finally{P.value=!1}else P.value=!1}),(e,a)=>(v(),d(t,null,{default:m(()=>[p("div",w,[p("div",j,[f(x(r),{variant:"ghost",size:"sm",class:"mb-6 -ml-2 text-muted-foreground hover:text-secondary",as:"RouterLink",to:"/actualites"},{default:m(()=>[F.value.arrowLeft?(v(),d(x(l),{key:0,icon:F.value.arrowLeft,class:"w-4 h-4 mr-2"},null,8,["icon"])):_("",!0),a[0]||(a[0]=k(" Retour aux actualités ",-1))]),_:1}),p("div",L,[p("div",z,[F.value.bookmark?(v(),d(x(l),{key:0,icon:F.value.bookmark,class:"w-6 h-6 text-primary"},null,8,["icon"])):_("",!0),a[1]||(a[1]=p("h1",{class:"font-heading font-bold text-3xl md:text-4xl text-secondary"}," Mes favoris ",-1))]),P.value?_("",!0):(v(),g("p",A,y(S.value)+" article"+y(S.value>1?"s":"")+" sauvegardé"+y(S.value>1?"s":""),1))]),P.value?(v(),g("div",B,[(v(),g(b,null,h(3,e=>p("div",{key:e,class:"animate-pulse"},[...a[2]||(a[2]=[p("div",{class:"aspect-video bg-neutral-200 rounded-lg mb-3"},null,-1),p("div",{class:"h-5 bg-neutral-200 rounded w-3/4 mb-2"},null,-1),p("div",{class:"h-4 bg-neutral-200 rounded w-1/2"},null,-1)])])),64))])):0===I.value.length?(v(),g("div",C,[F.value.bookmark?(v(),d(x(l),{key:0,icon:F.value.bookmark,class:"w-12 h-12 text-neutral-300 mb-4"},null,8,["icon"])):_("",!0),a[4]||(a[4]=p("h2",{class:"font-heading font-bold text-xl text-secondary mb-2"},"Aucun favori",-1)),a[5]||(a[5]=p("p",{class:"text-muted-foreground mb-6 max-w-md"}," Sauvegardez des articles en cliquant sur le bouton favori pour les retrouver ici. ",-1)),f(x(r),{as:"RouterLink",to:"/actualites"},{default:m(()=>[...a[3]||(a[3]=[k(" Parcourir les actualités ",-1)])]),_:1})])):(v(),g("div",N,[(v(!0),g(b,null,h(I.value,e=>(v(),d(o,{key:e.id,item:e},null,8,["item"]))),128))]))])])]),_:1}))}});export{R as default};
