const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/NewsPage-CGz5c-6i.js","assets/news.service-C63P7LKh.js","assets/DefaultLayout.vue_vue_type_script_setup_true_lang-Br6uEOr3.js","assets/vue-vendor-BHZkLje3.js","assets/ui-vendor-Dpzf4R5k.js","assets/DefaultLayout-B-dkry7v.css","assets/BookmarkButton.vue_vue_type_script_setup_true_lang-DXDfxjsK.js","assets/Card.vue_vue_type_script_setup_true_lang-BImqj4dv.js","assets/SidebarAcademy.vue_vue_type_script_setup_true_lang-Dp_rsDq-.js","assets/Skeleton.vue_vue_type_script_setup_true_lang-C_McNZtf.js","assets/NewsEmptyState.vue_vue_type_script_setup_true_lang-Cs_-YvD5.js","assets/NewsPage-BFyv-O2w.css","assets/UIPage-CepFq9Dd.js","assets/ArticleDesignPage-CuvnVVPm.js","assets/ProseContent.vue_vue_type_script_setup_true_lang-C3kaKXuf.js","assets/TableHeader.vue_vue_type_script_setup_true_lang-mEEMBt15.js","assets/index-j_h2RxZR.js","assets/AlertTitle.vue_vue_type_script_setup_true_lang-3SqVJcCT.js","assets/ProseContent-BzZqH3m7.css","assets/ArticleTestPage-BBho_fWs.js","assets/CardContent.vue_vue_type_script_setup_true_lang-CzZI-ZF8.js","assets/AspectRatio.vue_vue_type_script_setup_true_lang-CQwfCPqO.js","assets/BreadcrumbSeparator.vue_vue_type_script_setup_true_lang-Brulh5Db.js","assets/ArticleShortPage-D8YB_0nc.js","assets/ArticleLongPage-C9BrvuRM.js","assets/NewsCatalogPage-D1LrJ204.js","assets/NewsCatalogCard-BhIPrePg.js","assets/NewsCatalogCard-Cr9FTk0E.css","assets/TabsTrigger.vue_vue_type_script_setup_true_lang-DaA9Wpsy.js","assets/BookmarksPage-BqkXcb3B.js","assets/NewsDetailPage-Cx0_GULs.js","assets/NewsDetailPage-tn0RQdqM.css","assets/AcademieHomePage-DDKX1BaO.js","assets/subscription-catalog.store-BVWrYkQm.js","assets/FormationDetailPage-BKU8tx6J.js","assets/DialogTitle.vue_vue_type_script_setup_true_lang-DtbfTDir.js","assets/x-C2wa1mm5.js","assets/oneclick-basket.store-Baqgc6CO.js","assets/CataloguePage-D-AOm-M4.js","assets/Input.vue_vue_type_script_setup_true_lang-DxIiTCa0.js","assets/SelectValue.vue_vue_type_script_setup_true_lang-DGRWfytm.js","assets/AuthPage-CPCOuPRN.js","assets/AuthFormWrapper.vue_vue_type_script_setup_true_lang-B8TL4y5H.js","assets/AuthModeToggle.vue_vue_type_script_setup_true_lang-CSKWYj3F.js","assets/form-vendor-D_96SOpp.js","assets/FormMessage.vue_vue_type_script_setup_true_lang-DUUurZV1.js","assets/Label.vue_vue_type_script_setup_true_lang-BNDbxbZU.js","assets/Checkbox.vue_vue_type_script_setup_true_lang-EZWj0bVF.js","assets/FormDescription.vue_vue_type_script_setup_true_lang-BY5sBFTO.js","assets/CalendarPrevButton.vue_vue_type_script_setup_true_lang-DUvcT-d5.js","assets/CalendarPrevButton-CBXaF2KA.css","assets/VerifyEmailPage-nTOE_2l5.js","assets/ResetPasswordPage-CgSmLzSV.js","assets/ValidateEmailChangePage-CxIR5j6q.js","assets/AccountPage-CbjvdeHd.js","assets/CardDescription.vue_vue_type_script_setup_true_lang-Cw5K8ggb.js","assets/CardTitle.vue_vue_type_script_setup_true_lang-CCW9Rm4y.js","assets/index-5-l_LvkH.js","assets/LinkLegacyAccountPage-CvzC0hMI.js","assets/LinkLegacyAccountPage-DPut_oIT.css","assets/CancelSubscription-CYf55UK3.js","assets/SubscriptionInvoices-CNQO85um.js","assets/ShopPage-tDGyMurO.js","assets/shop.store-Bpslqmy0.js","assets/ShopPage-zszUtDiK.css","assets/ProductDetailPage-Dp6isqjZ.js","assets/ProductDetailPage-DRndY4bQ.css","assets/CartPage-7xYvTgGJ.js","assets/CheckoutPage-BDXu5fba.js","assets/MentionsLegalesPage-B3OhPDLB.js","assets/MentionsLegalesPage-Cbz_czaR.css","assets/CGVPage-BIFOshPW.js","assets/CGVPage-N41jQgeT.css","assets/ConfidentialitePage-B8MAWhgt.js","assets/ConfidentialitePage-vOTdy1a9.css","assets/CookiesPage-BXFfeGHC.js","assets/CookiesPage-BE793BnW.css","assets/RGPDLegacyPage-XL6rYIYp.js","assets/RGPDLegacyPage-C3TWOCID.css","assets/NotFoundPage-Dnss5Ei-.js"])))=>i.map(i=>d[i]);
import{A as e,a3 as t,l as n,a as o,h as r,Q as a,L as i,U as s,F as l,Z as c,u,a4 as d,n as p,H as f,D as m,G as h,I as g,J as y,K as v,N as b,a5 as w,m as E,f as T,w as R,_,O as A,W as S,V as O,a6 as C,a7 as k,a8 as N,a9 as x,aa as I,ab as P}from"./vue-vendor-BHZkLje3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const L={},D=function(e,t,n){let o=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=n?.nonce||n?.getAttribute("nonce");o=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in L)return;L[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,r&&o.setAttribute("nonce",r),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};class B extends Error{code;statusCode;constructor(e,t,n){super(e),this.name="AuthError",this.code=t,this.statusCode=n}}function j(e,t){return function(){return e.apply(t,arguments)}}const{toString:U}=Object.prototype,{getPrototypeOf:M}=Object,{iterator:F,toStringTag:z}=Symbol,H=(e=>t=>{const n=U.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),q=e=>(e=e.toLowerCase(),t=>H(t)===e),V=e=>t=>typeof t===e,{isArray:$}=Array,W=V("undefined");function K(e){return null!==e&&!W(e)&&null!==e.constructor&&!W(e.constructor)&&J(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G=q("ArrayBuffer");const X=V("string"),J=V("function"),Y=V("number"),Q=e=>null!==e&&"object"==typeof e,Z=e=>{if("object"!==H(e))return!1;const t=M(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||z in e||F in e)},ee=q("Date"),te=q("File"),ne=q("Blob"),oe=q("FileList"),re=q("URLSearchParams"),[ae,ie,se,le]=["ReadableStream","Request","Response","Headers"].map(q);function ce(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,r;if("object"!=typeof e&&(e=[e]),$(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(K(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(o=0;o<a;o++)i=r[o],t.call(null,e[i],i,e)}}function ue(e,t){if(K(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o,r=n.length;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,pe=e=>!W(e)&&e!==de;const fe=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&M(Uint8Array)),me=q("HTMLFormElement"),he=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ge=q("RegExp"),ye=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};ce(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(o[r]=a||n)}),Object.defineProperties(e,o)};const ve=q("AsyncFunction"),be=(we="function"==typeof setImmediate,Ee=J(de.postMessage),we?setImmediate:Ee?(Te=`axios@${Math.random()}`,Re=[],de.addEventListener("message",({source:e,data:t})=>{e===de&&t===Te&&Re.length&&Re.shift()()},!1),e=>{Re.push(e),de.postMessage(Te,"*")}):e=>setTimeout(e));var we,Ee,Te,Re;const _e="undefined"!=typeof queueMicrotask?queueMicrotask.bind(de):"undefined"!=typeof process&&process.nextTick||be,Ae={isArray:$,isArrayBuffer:G,isBuffer:K,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||J(e.append)&&("formdata"===(t=H(e))||"object"===t&&J(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&G(e.buffer),t},isString:X,isNumber:Y,isBoolean:e=>!0===e||!1===e,isObject:Q,isPlainObject:Z,isEmptyObject:e=>{if(!Q(e)||K(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:ae,isRequest:ie,isResponse:se,isHeaders:le,isUndefined:W,isDate:ee,isFile:te,isBlob:ne,isRegExp:ge,isFunction:J,isStream:e=>Q(e)&&J(e.pipe),isURLSearchParams:re,isTypedArray:fe,isFileList:oe,forEach:ce,merge:function e(){const{caseless:t,skipUndefined:n}=pe(this)&&this||{},o={},r=(r,a)=>{const i=t&&ue(o,a)||a;Z(o[i])&&Z(r)?o[i]=e(o[i],r):Z(r)?o[i]=e({},r):$(r)?o[i]=r.slice():n&&W(r)||(o[i]=r)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ce(arguments[a],r);return o},extend:(e,t,n,{allOwnKeys:o}={})=>(ce(t,(t,o)=>{n&&J(t)?e[o]=j(t,n):e[o]=t},{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let r,a,i;const s={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],o&&!o(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&M(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:H,kindOfTest:q,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if($(e))return e;let t=e.length;if(!Y(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[F]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:me,hasOwnProperty:he,hasOwnProp:he,reduceDescriptors:ye,freezeMethods:e=>{ye(e,(t,n)=>{if(J(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];J(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach(e=>{n[e]=!0})};return $(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ue,global:de,isContextDefined:pe,isSpecCompliantForm:function(e){return!!(e&&J(e.append)&&"FormData"===e[z]&&e[F])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(Q(e)){if(t.indexOf(e)>=0)return;if(K(e))return e;if(!("toJSON"in e)){t[o]=e;const r=$(e)?[]:{};return ce(e,(e,t)=>{const a=n(e,o+1);!W(a)&&(r[t]=a)}),t[o]=void 0,r}}return e};return n(e,0)},isAsyncFn:ve,isThenable:e=>e&&(Q(e)||J(e))&&J(e.then)&&J(e.catch),setImmediate:be,asap:_e,isIterable:e=>null!=e&&J(e[F])};function Se(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}Ae.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const Oe=Se.prototype,Ce={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ce[e]={value:e}}),Object.defineProperties(Se,Ce),Object.defineProperty(Oe,"isAxiosError",{value:!0}),Se.from=(e,t,n,o,r,a)=>{const i=Object.create(Oe);Ae.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Se.call(i,s,l,n,o,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};function ke(e){return Ae.isPlainObject(e)||Ae.isArray(e)}function Ne(e){return Ae.endsWith(e,"[]")?e.slice(0,-2):e}function xe(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ne(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ie=Ae.toFlatObject(Ae,{},null,function(e){return/^is[A-Z]/.test(e)});function Pe(e,t,n){if(!Ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const o=(n=Ae.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ae.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ae.isSpecCompliantForm(t);if(!Ae.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ae.isDate(e))return e.toISOString();if(Ae.isBoolean(e))return e.toString();if(!s&&Ae.isBlob(e))throw new Se("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(e)||Ae.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let s=e;if(e&&!r&&"object"==typeof e)if(Ae.endsWith(n,"{}"))n=o?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ae.isArray(e)&&function(e){return Ae.isArray(e)&&!e.some(ke)}(e)||(Ae.isFileList(e)||Ae.endsWith(n,"[]"))&&(s=Ae.toArray(e)))return n=Ne(n),s.forEach(function(e,o){!Ae.isUndefined(e)&&null!==e&&t.append(!0===i?xe([n],o,a):null===i?n:n+"[]",l(e))}),!1;return!!ke(e)||(t.append(xe(r,n,a),l(e)),!1)}const u=[],d=Object.assign(Ie,{defaultVisitor:c,convertValue:l,isVisitable:ke});if(!Ae.isObject(e))throw new TypeError("data must be an object");return function e(n,o){if(!Ae.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+o.join("."));u.push(n),Ae.forEach(n,function(n,a){!0===(!(Ae.isUndefined(n)||null===n)&&r.call(t,n,Ae.isString(a)?a.trim():a,o,d))&&e(n,o?o.concat(a):[a])}),u.pop()}}(e),t}function Le(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function De(e,t){this._pairs=[],e&&Pe(e,this,t)}const Be=De.prototype;function je(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ue(e,t,n){if(!t)return e;const o=n&&n.encode||je;Ae.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):Ae.isURLSearchParams(t)?t.toString():new De(t,n).toString(o),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}Be.append=function(e,t){this._pairs.push([e,t])},Be.toString=function(e){const t=e?function(t){return e.call(this,t,Le)}:Le;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Me{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Fe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ze={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:De,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},He="undefined"!=typeof window&&"undefined"!=typeof document,qe="object"==typeof navigator&&navigator||void 0,Ve=He&&(!qe||["ReactNative","NativeScript","NS"].indexOf(qe.product)<0),$e="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,We=He&&window.location.href||"http://localhost",Ke={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:He,hasStandardBrowserEnv:Ve,hasStandardBrowserWebWorkerEnv:$e,navigator:qe,origin:We},Symbol.toStringTag,{value:"Module"})),...ze};function Ge(e){function t(e,n,o,r){let a=e[r++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=r>=e.length;if(a=!a&&Ae.isArray(o)?o.length:a,s)return Ae.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!i;o[a]&&Ae.isObject(o[a])||(o[a]=[]);return t(e,n,o[a],r)&&Ae.isArray(o[a])&&(o[a]=function(e){const t={},n=Object.keys(e);let o;const r=n.length;let a;for(o=0;o<r;o++)a=n[o],t[a]=e[a];return t}(o[a])),!i}if(Ae.isFormData(e)&&Ae.isFunction(e.entries)){const n={};return Ae.forEachEntry(e,(e,o)=>{t(function(e){return Ae.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),o,n,0)}),n}return null}const Xe={transitional:Fe,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,r=Ae.isObject(e);r&&Ae.isHTMLForm(e)&&(e=new FormData(e));if(Ae.isFormData(e))return o?JSON.stringify(Ge(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Pe(e,new Ke.classes.URLSearchParams,{visitor:function(e,t,n,o){return Ke.isNode&&Ae.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=Ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Pe(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),function(e,t,n){if(Ae.isString(e))try{return(t||JSON.parse)(e),Ae.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Xe.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(n&&!this.responseType||o)){const n=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(r){if(n){if("SyntaxError"===r.name)throw Se.from(r,Se.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],e=>{Xe.headers[e]={}});const Je=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ye=Symbol("internals");function Qe(e){return e&&String(e).trim().toLowerCase()}function Ze(e){return!1===e||null==e?e:Ae.isArray(e)?e.map(Ze):String(e)}function et(e,t,n,o,r){return Ae.isFunction(o)?o.call(this,t,n):(r&&(t=n),Ae.isString(t)?Ae.isString(o)?-1!==t.indexOf(o):Ae.isRegExp(o)?o.test(t):void 0:void 0)}let tt=class{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function r(e,t,n){const r=Qe(t);if(!r)throw new Error("header name must be a non-empty string");const a=Ae.findKey(o,r);(!a||void 0===o[a]||!0===n||void 0===n&&!1!==o[a])&&(o[a||t]=Ze(e))}const a=(e,t)=>Ae.forEach(e,(e,n)=>r(e,n,t));if(Ae.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ae.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,o,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),o=e.substring(r+1).trim(),!n||t[n]&&Je[n]||("set-cookie"===n?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t})(e),t);else if(Ae.isObject(e)&&Ae.isIterable(e)){let n,o,r={};for(const t of e){if(!Ae.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[o=t[0]]=(n=r[o])?Ae.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Qe(e)){const n=Ae.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(Ae.isFunction(t))return t.call(this,e,n);if(Ae.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qe(e)){const n=Ae.findKey(this,e);return!(!n||void 0===this[n]||t&&!et(0,this[n],n,t))}return!1}delete(e,t){const n=this;let o=!1;function r(e){if(e=Qe(e)){const r=Ae.findKey(n,e);!r||t&&!et(0,n[r],r,t)||(delete n[r],o=!0)}}return Ae.isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const r=t[n];e&&!et(0,this[r],r,e,!0)||(delete this[r],o=!0)}return o}normalize(e){const t=this,n={};return Ae.forEach(this,(o,r)=>{const a=Ae.findKey(n,r);if(a)return t[a]=Ze(o),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Ze(o),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ae.forEach(this,(n,o)=>{null!=n&&!1!==n&&(t[o]=e&&Ae.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Ye]=this[Ye]={accessors:{}}).accessors,n=this.prototype;function o(e){const o=Qe(e);t[o]||(!function(e,t){const n=Ae.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(e,n,r){return this[o].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[o]=!0)}return Ae.isArray(e)?e.forEach(o):o(e),this}};function nt(e,t){const n=this||Xe,o=t||n,r=tt.from(o.headers);let a=o.data;return Ae.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function ot(e){return!(!e||!e.__CANCEL__)}function rt(e,t,n){Se.call(this,null==e?"canceled":e,Se.ERR_CANCELED,t,n),this.name="CanceledError"}function at(e,t,n){const o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ae.reduceDescriptors(tt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Ae.freezeMethods(tt),Ae.inherits(rt,Se,{__CANCEL__:!0});const it=(e,t,n=3)=>{let o=0;const r=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=o[i];r||(r=l),n[a]=s,o[a]=l;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-r<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}}(50,250);return function(e,t){let n,o,r=0,a=1e3/t;const i=(t,a=Date.now())=>{r=a,n=null,o&&(clearTimeout(o),o=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-r;s>=a?i(e,t):(n=e,o||(o=setTimeout(()=>{o=null,i(n)},a-s)))},()=>n&&i(n)]}(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-o,l=r(s);o=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},st=(e,t)=>{const n=null!=e;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},lt=e=>(...t)=>Ae.asap(()=>e(...t)),ct=Ke.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ke.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,ut=Ke.hasStandardBrowserEnv?{write(e,t,n,o,r,a,i){if("undefined"==typeof document)return;const s=[`${e}=${encodeURIComponent(t)}`];Ae.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),Ae.isString(o)&&s.push(`path=${o}`),Ae.isString(r)&&s.push(`domain=${r}`),!0===a&&s.push("secure"),Ae.isString(i)&&s.push(`SameSite=${i}`),document.cookie=s.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function dt(e,t,n){let o=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(o||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const pt=e=>e instanceof tt?{...e}:e;function ft(e,t){t=t||{};const n={};function o(e,t,n,o){return Ae.isPlainObject(e)&&Ae.isPlainObject(t)?Ae.merge.call({caseless:o},e,t):Ae.isPlainObject(t)?Ae.merge({},t):Ae.isArray(t)?t.slice():t}function r(e,t,n,r){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:o(void 0,e,0,r):o(e,t,0,r)}function a(e,t){if(!Ae.isUndefined(t))return o(void 0,t)}function i(e,t){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function s(n,r,a){return a in t?o(n,r):a in e?o(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>r(pt(e),pt(t),0,!0)};return Ae.forEach(Object.keys({...e,...t}),function(o){const a=l[o]||r,i=a(e[o],t[o],o);Ae.isUndefined(i)&&a!==s||(n[o]=i)}),n}const mt=e=>{const t=ft({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:s}=t;if(t.headers=i=tt.from(i),t.url=Ue(dt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ae.isFormData(n))if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ae.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&i.set(e,n)})}if(Ke.hasStandardBrowserEnv&&(o&&Ae.isFunction(o)&&(o=o(t)),o||!1!==o&&ct(t.url))){const e=r&&a&&ut.read(a);e&&i.set(r,e)}return t},ht="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const o=mt(e);let r=o.data;const a=tt.from(o.headers).normalize();let i,s,l,c,u,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=o;function m(){c&&c(),u&&u(),o.cancelToken&&o.cancelToken.unsubscribe(i),o.signal&&o.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function g(){if(!h)return;const o=tt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());at(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:o,config:e,request:h}),h=null}h.open(o.method.toUpperCase(),o.url,!0),h.timeout=o.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new Se("Request aborted",Se.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const o=new Se(t&&t.message?t.message:"Network Error",Se.ERR_NETWORK,e,h);o.event=t||null,n(o),h=null},h.ontimeout=function(){let t=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const r=o.transitional||Fe;o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),n(new Se(t,r.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,h)),h=null},void 0===r&&a.setContentType(null),"setRequestHeader"in h&&Ae.forEach(a.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Ae.isUndefined(o.withCredentials)||(h.withCredentials=!!o.withCredentials),d&&"json"!==d&&(h.responseType=o.responseType),f&&([l,u]=it(f,!0),h.addEventListener("progress",l)),p&&h.upload&&([s,c]=it(p),h.upload.addEventListener("progress",s),h.upload.addEventListener("loadend",c)),(o.cancelToken||o.signal)&&(i=t=>{h&&(n(!t||t.type?new rt(null,e,h):t),h.abort(),h=null)},o.cancelToken&&o.cancelToken.subscribe(i),o.signal&&(o.signal.aborted?i():o.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(o.url);y&&-1===Ke.protocols.indexOf(y)?n(new Se("Unsupported protocol "+y+":",Se.ERR_BAD_REQUEST,e)):h.send(r||null)})},gt=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,o=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;o.abort(t instanceof Se?t:new rt(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Se(`timeout ${t} of ms exceeded`,Se.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:s}=o;return s.unsubscribe=()=>Ae.asap(i),s}},yt=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let o,r=0;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},vt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},bt=(e,t,n,o)=>{const r=async function*(e,t){for await(const n of vt(e))yield*yt(n,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await r.next();if(t)return s(),void e.close();let a=o.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(o))}catch(t){throw s(t),t}},cancel:e=>(s(e),r.return())},{highWaterMark:2})},{isFunction:wt}=Ae,Et=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ae.global),{ReadableStream:Tt,TextEncoder:Rt}=Ae.global,_t=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},At=e=>{e=Ae.merge.call({skipUndefined:!0},Et,e);const{fetch:t,Request:n,Response:o}=e,r=t?wt(t):"function"==typeof fetch,a=wt(n),i=wt(o);if(!r)return!1;const s=r&&wt(Tt),l=r&&("function"==typeof Rt?(e=>t=>e.encode(t))(new Rt):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&s&&_t(()=>{let e=!1;const t=new n(Ke.origin,{body:new Tt,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&s&&_t(()=>Ae.isReadableStream(new o("").body)),d={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let o=t&&t[e];if(o)return o.call(t);throw new Se(`Response type '${e}' is not supported`,Se.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const o=Ae.toFiniteNumber(e.getContentLength());return null==o?(async e=>{if(null==e)return 0;if(Ae.isBlob(e))return e.size;if(Ae.isSpecCompliantForm(e)){const t=new n(Ke.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ae.isArrayBufferView(e)||Ae.isArrayBuffer(e)?e.byteLength:(Ae.isURLSearchParams(e)&&(e+=""),Ae.isString(e)?(await l(e)).byteLength:void 0)})(t):o};return async e=>{let{url:r,method:i,data:s,signal:l,cancelToken:f,timeout:m,onDownloadProgress:h,onUploadProgress:g,responseType:y,headers:v,withCredentials:b="same-origin",fetchOptions:w}=mt(e),E=t||fetch;y=y?(y+"").toLowerCase():"text";let T=gt([l,f&&f.toAbortSignal()],m),R=null;const _=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let A;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(A=await p(v,s))){let e,t=new n(r,{method:"POST",body:s,duplex:"half"});if(Ae.isFormData(s)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=st(A,it(lt(g)));s=bt(t.body,65536,e,n)}}Ae.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l={...w,signal:T,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0};R=a&&new n(r,l);let f=await(a?E(R,w):E(r,l));const m=u&&("stream"===y||"response"===y);if(u&&(h||m&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=Ae.toFiniteNumber(f.headers.get("content-length")),[n,r]=h&&st(t,it(lt(h),!0))||[];f=new o(bt(f.body,65536,n,()=>{r&&r(),_&&_()}),e)}y=y||"text";let S=await d[Ae.findKey(d,y)||"text"](f,e);return!m&&_&&_(),await new Promise((t,n)=>{at(t,n,{data:S,headers:tt.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:R})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new Se("Network Error",Se.ERR_NETWORK,e,R),{cause:S.cause||S});throw Se.from(S,S&&S.code,e,R)}}},St=new Map,Ot=e=>{let t=e&&e.env||{};const{fetch:n,Request:o,Response:r}=t,a=[o,r,n];let i,s,l=a.length,c=St;for(;l--;)i=a[l],s=c.get(i),void 0===s&&c.set(i,s=l?new Map:At(t)),c=s;return s};Ot();const Ct={http:null,xhr:ht,fetch:{get:Ot}};Ae.forEach(Ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const kt=e=>`- ${e}`,Nt=e=>Ae.isFunction(e)||null===e||!1===e;const xt={getAdapter:function(e,t){e=Ae.isArray(e)?e:[e];const{length:n}=e;let o,r;const a={};for(let i=0;i<n;i++){let n;if(o=e[i],r=o,!Nt(o)&&(r=Ct[(n=String(o)).toLowerCase()],void 0===r))throw new Se(`Unknown adapter '${n}'`);if(r&&(Ae.isFunction(r)||(r=r.get(t))))break;a[n||"#"+i]=r}if(!r){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new Se("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(kt).join("\n"):" "+kt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:Ct};function It(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rt(null,e)}function Pt(e){It(e),e.headers=tt.from(e.headers),e.data=nt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return xt.getAdapter(e.adapter||Xe.adapter,e)(e).then(function(t){return It(e),t.data=nt.call(e,e.transformResponse,t),t.headers=tt.from(t.headers),t},function(t){return ot(t)||(It(e),t&&t.response&&(t.response.data=nt.call(e,e.transformResponse,t.response),t.response.headers=tt.from(t.response.headers))),Promise.reject(t)})}const Lt="1.13.2",Dt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Bt={};Dt.transitional=function(e,t,n){return(o,r,a)=>{if(!1===e)throw new Se(function(e,t){return"[Axios v"+Lt+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}(r," has been removed"+(t?" in "+t:"")),Se.ERR_DEPRECATED);return t&&!Bt[r]&&(Bt[r]=!0),!e||e(o,r,a)}},Dt.spelling=function(e){return(e,t)=>!0};const jt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const a=o[r],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Se("option "+a+" must be "+n,Se.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Se("Unknown option "+a,Se.ERR_BAD_OPTION)}},validators:Dt},Ut=jt.validators;let Mt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Me,response:new Me}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(o){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ft(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:r}=t;void 0!==n&&jt.assertOptions(n,{silentJSONParsing:Ut.transitional(Ut.boolean),forcedJSONParsing:Ut.transitional(Ut.boolean),clarifyTimeoutError:Ut.transitional(Ut.boolean)},!1),null!=o&&(Ae.isFunction(o)?t.paramsSerializer={serialize:o}:jt.assertOptions(o,{encode:Ut.function,serialize:Ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jt.assertOptions(t,{baseUrl:Ut.spelling("baseURL"),withXsrfToken:Ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Ae.merge(r.common,r[t.method]);r&&Ae.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=tt.concat(a,r);const i=[];let s=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[Pt.bind(this),void 0];for(e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let p=t;for(;d<u;){const e=i[d++],t=i[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=Pt.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Ue(dt((e=ft(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(e){Mt.prototype[e]=function(t,n){return this.request(ft(n||{},{method:e,url:t,data:(n||{}).data}))}}),Ae.forEach(["post","put","patch"],function(e){function t(t){return function(n,o,r){return this.request(ft(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}Mt.prototype[e]=t(),Mt.prototype[e+"Form"]=t(!0)});const Ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ft).forEach(([e,t])=>{Ft[t]=e});const zt=function e(t){const n=new Mt(t),o=j(Mt.prototype.request,n);return Ae.extend(o,Mt.prototype,n,{allOwnKeys:!0}),Ae.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return e(ft(t,n))},o}(Xe);zt.Axios=Mt,zt.CanceledError=rt,zt.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const o=new Promise(e=>{n.subscribe(e),t=e}).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e(function(e,o,r){n.reason||(n.reason=new rt(e,o,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},zt.isCancel=ot,zt.VERSION=Lt,zt.toFormData=Pe,zt.AxiosError=Se,zt.Cancel=zt.CanceledError,zt.all=function(e){return Promise.all(e)},zt.spread=function(e){return function(t){return e.apply(null,t)}},zt.isAxiosError=function(e){return Ae.isObject(e)&&!0===e.isAxiosError},zt.mergeConfig=ft,zt.AxiosHeaders=tt,zt.formToJSON=e=>Ge(Ae.isHTMLForm(e)?new FormData(e):e),zt.getAdapter=xt.getAdapter,zt.HttpStatusCode=Ft,zt.default=zt;const{Axios:Ht,AxiosError:qt,CanceledError:Vt,isCancel:$t,CancelToken:Wt,VERSION:Kt,all:Gt,Cancel:Xt,isAxiosError:Jt,spread:Yt,toFormData:Qt,AxiosHeaders:Zt,HttpStatusCode:en,formToJSON:tn,getAdapter:nn,mergeConfig:on}=zt,rn={error:(...e)=>{},warn:(...e)=>{},info:(...e)=>{},debug:(...e)=>{}},an="auth_user";function sn(e){localStorage.setItem(an,JSON.stringify(e))}function ln(){localStorage.removeItem(an),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_token_expiry")}const cn=new class{axiosInstance;constructor(){this.axiosInstance=zt.create({baseURL:"https://api.jeandeportal.fr",timeout:5e3,withCredentials:!0,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),this.setupInterceptors()}setupInterceptors(){this.axiosInstance.interceptors.response.use(e=>e,async e=>{const t=e.config?.url||"",n=["/login","/register","/logout","/me","/forgot-password","/addReference","/fetchBasket","/basketChangeQuantityReference","/deleteReference","/fetchStore","/fetchOneClickCatalog","/fetchOneClickBasket","/addOneClick","/deleteOneClick"].some(e=>t.includes(e));if(401===e.response?.status&&!n&&(ln(),"undefined"!=typeof window)){const e=window.location.pathname;window.location.href=`/auth?redirect=${encodeURIComponent(e)}&reason=session_expired`}return Promise.reject(e)})}async get(e,t){return(await this.axiosInstance.get(e,t)).data}async post(e,t,n){return(await this.axiosInstance.post(e,t,n)).data}async put(e,t,n){return(await this.axiosInstance.put(e,t,n)).data}async patch(e,t,n){return(await this.axiosInstance.patch(e,t,n)).data}async delete(e,t){return(await this.axiosInstance.delete(e,t)).data}getAxiosInstance(){return this.axiosInstance}};function un(e){return e instanceof Error?e.message:"string"==typeof e?e:"Erreur inconnue"}function dn(e){if(e&&"object"==typeof e&&"response"in e&&e.response&&"object"==typeof e.response&&"status"in e.response)return e.response.status}function pn(e){if(e&&"object"==typeof e&&"response"in e&&e.response&&"object"==typeof e.response&&"data"in e.response)return e.response.data}const fn=!1;const mn=new class{async login(e){try{let t;if(t=await cn.post("/login",{email:e.email,password:e.password,rememberMe:e.rememberMe,redirectUrl:e.redirectUrl}),"error"===t.status)throw new B(t.message,"INVALID_CREDENTIALS");return t}catch(t){if(t instanceof B)throw t;rn.error("Erreur lors de la connexion:",t);const e=pn(t);throw new B(e?.message||"Impossible de se connecter. Vérifiez vos identifiants.","INVALID_CREDENTIALS",dn(t))}}async register(e){try{let t;if(t=await cn.post("/register",{firstname:e.firstName,lastname:e.lastName,email:e.email,password:e.password,passwordConfirm:e.passwordConfirm,phone:e.phone||null,birthdate:e.birthDate||null}),"error"===t.status){const e=t.message.toLowerCase().includes("existe")?"USER_EXISTS":"UNKNOWN_ERROR";throw new B(t.message,e)}return t}catch(t){if(t instanceof B)throw t;rn.error("Erreur lors de l'inscription:",t);const e=dn(t),n=pn(t);if(409===e)throw new B(n?.message||"Un compte existe déjà avec cet email.","USER_EXISTS",409);throw new B(n?.message||"Impossible de créer le compte. Veuillez réessayer.","UNKNOWN_ERROR",e)}}async verifyEmail(e){try{return await cn.post("/register/verif-mail",{hash:e})}catch(t){rn.error("Erreur lors de la vérification de l'email:",t);const e=pn(t);throw new B(e?.message||"Impossible de vérifier l'email. Le lien est peut-être expiré.","UNKNOWN_ERROR",dn(t))}}async getUserProfile(){try{return await cn.get("/me")}catch(e){throw rn.error("Erreur lors de la récupération du profil:",e),new B("Impossible de récupérer le profil utilisateur.","TOKEN_EXPIRED",dn(e))}}async updateProfile(e){try{return await cn.post("/updateMe",e)}catch(t){rn.error("Erreur lors de la mise à jour du profil:",t);const e=pn(t);throw new B(e?.message||"Impossible de mettre à jour le profil.","UNKNOWN_ERROR",dn(t))}}async logout(){try{await cn.get("/logout")}catch(e){rn.error("Erreur lors de la déconnexion:",e)}}async forgotPassword(e){try{return{success:"success"===(await cn.post("/forgot-password",{email:e})).status,message:"Si un compte existe avec cet email, un lien de réinitialisation a été envoyé."}}catch(t){throw rn.error("Erreur lors de la réinitialisation:",t),new B("Impossible d'envoyer l'email de réinitialisation.","NETWORK_ERROR",dn(t))}}async verifyResetCode(e){try{return await cn.post("/forgot-password/verif",{hash:e})}catch(t){rn.error("Erreur lors de la vérification du code:",t);const e=pn(t);throw new B(e?.message||"Le lien de réinitialisation est invalide ou a expiré.","UNKNOWN_ERROR",dn(t))}}async completePasswordReset(e,t,n){try{return await cn.post("/forgot-password/complete",{hash:e,password:t,passwordConfirm:n})}catch(o){rn.error("Erreur lors de la réinitialisation du mot de passe:",o);const e=pn(o);throw new B(e?.message||"Impossible de réinitialiser le mot de passe.","UNKNOWN_ERROR",dn(o))}}async requestEmailChange(e){try{{const t=await cn.post("/accountKey/modification",{email:e});if("success"===t.status)return{status:"success"};if(t.email){const[e,n]=t.email;if("error"===e)return{status:"error",message:n}}return{status:"success"}}}catch(t){rn.error("Erreur lors de la demande de modification d'email:",t);const e=pn(t);throw new B(e?.message||"Impossible de demander la modification d'email.","UNKNOWN_ERROR",dn(t))}}async validateEmailChange(e){try{return await cn.post("/accountKey/validation",{modificationCode:e})}catch(t){rn.error("Erreur lors de la validation du changement d'email:",t);const e=pn(t);throw new B(e?.message||"Le lien de validation est invalide ou a expiré.","UNKNOWN_ERROR",dn(t))}}isUsingMock(){return fn}},{entries:hn,setPrototypeOf:gn,isFrozen:yn,getPrototypeOf:vn,getOwnPropertyDescriptor:bn}=Object;let{freeze:wn,seal:En,create:Tn}=Object,{apply:Rn,construct:_n}="undefined"!=typeof Reflect&&Reflect;wn||(wn=function(e){return e}),En||(En=function(e){return e}),Rn||(Rn=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return e.apply(t,o)}),_n||(_n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new e(...n)});const An=Fn(Array.prototype.forEach),Sn=Fn(Array.prototype.lastIndexOf),On=Fn(Array.prototype.pop),Cn=Fn(Array.prototype.push),kn=Fn(Array.prototype.splice),Nn=Fn(String.prototype.toLowerCase),xn=Fn(String.prototype.toString),In=Fn(String.prototype.match),Pn=Fn(String.prototype.replace),Ln=Fn(String.prototype.indexOf),Dn=Fn(String.prototype.trim),Bn=Fn(Object.prototype.hasOwnProperty),jn=Fn(RegExp.prototype.test),Un=(Mn=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _n(Mn,t)});var Mn;function Fn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return Rn(e,t,o)}}function zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nn;gn&&gn(e,null);let o=t.length;for(;o--;){let r=t[o];if("string"==typeof r){const e=n(r);e!==r&&(yn(t)||(t[o]=e),r=e)}e[r]=!0}return e}function Hn(e){for(let t=0;t<e.length;t++){Bn(e,t)||(e[t]=null)}return e}function qn(e){const t=Tn(null);for(const[n,o]of hn(e)){Bn(e,n)&&(Array.isArray(o)?t[n]=Hn(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=qn(o):t[n]=o)}return t}function Vn(e,t){for(;null!==e;){const n=bn(e,t);if(n){if(n.get)return Fn(n.get);if("function"==typeof n.value)return Fn(n.value)}e=vn(e)}return function(){return null}}const $n=wn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wn=wn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kn=wn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Gn=wn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xn=wn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Jn=wn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yn=wn(["#text"]),Qn=wn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zn=wn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),eo=wn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),to=wn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),no=En(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oo=En(/<%[\w\W]*|[\w\W]*%>/gm),ro=En(/\$\{[\w\W]*/gm),ao=En(/^data-[\-\w.\u00B7-\uFFFF]+$/),io=En(/^aria-[\-\w]+$/),so=En(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),lo=En(/^(?:\w+script|data):/i),co=En(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uo=En(/^html$/i),po=En(/^[a-z][.\w]*(-[.\w]+)+$/i);var fo=Object.freeze({__proto__:null,ARIA_ATTR:io,ATTR_WHITESPACE:co,CUSTOM_ELEMENT:po,DATA_ATTR:ao,DOCTYPE_NAME:uo,ERB_EXPR:oo,IS_ALLOWED_URI:so,IS_SCRIPT_OR_DATA:lo,MUSTACHE_EXPR:no,TMPLIT_EXPR:ro});const mo=1,ho=3,go=7,yo=8,vo=9;var bo=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.3.0",n.removed=[],!t||!t.document||t.document.nodeType!==vo||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:m}=t,h=c.prototype,g=Vn(h,"cloneNode"),y=Vn(h,"remove"),v=Vn(h,"nextSibling"),b=Vn(h,"childNodes"),w=Vn(h,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let E,T="";const{implementation:R,createNodeIterator:_,createDocumentFragment:A,getElementsByTagName:S}=o,{importNode:O}=r;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof hn&&"function"==typeof w&&R&&void 0!==R.createHTMLDocument;const{MUSTACHE_EXPR:k,ERB_EXPR:N,TMPLIT_EXPR:x,DATA_ATTR:I,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:B}=fo;let{IS_ALLOWED_URI:j}=fo,U=null;const M=zn({},[...$n,...Wn,...Kn,...Xn,...Yn]);let F=null;const z=zn({},[...Qn,...Zn,...eo,...to]);let H=Object.seal(Tn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,V=null;const $=Object.seal(Tn(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let W=!0,K=!0,G=!1,X=!0,J=!1,Y=!0,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,oe=!1,re=!0,ae=!1,ie=!0,se=!1,le={},ce=null;const ue=zn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const pe=zn({},["audio","video","img","source","image","track"]);let fe=null;const me=zn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),he="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",ye="http://www.w3.org/1999/xhtml";let ve=ye,be=!1,we=null;const Ee=zn({},[he,ge,ye],xn);let Te=zn({},["mi","mo","mn","ms","mtext"]),Re=zn({},["annotation-xml"]);const _e=zn({},["title","style","font","a","script"]);let Ae=null;const Se=["application/xhtml+xml","text/html"];let Oe=null,Ce=null;const ke=o.createElement("form"),Ne=function(e){return e instanceof RegExp||e instanceof Function},xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=qn(e),Ae=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Oe="application/xhtml+xml"===Ae?xn:Nn,U=Bn(e,"ALLOWED_TAGS")?zn({},e.ALLOWED_TAGS,Oe):M,F=Bn(e,"ALLOWED_ATTR")?zn({},e.ALLOWED_ATTR,Oe):z,we=Bn(e,"ALLOWED_NAMESPACES")?zn({},e.ALLOWED_NAMESPACES,xn):Ee,fe=Bn(e,"ADD_URI_SAFE_ATTR")?zn(qn(me),e.ADD_URI_SAFE_ATTR,Oe):me,de=Bn(e,"ADD_DATA_URI_TAGS")?zn(qn(pe),e.ADD_DATA_URI_TAGS,Oe):pe,ce=Bn(e,"FORBID_CONTENTS")?zn({},e.FORBID_CONTENTS,Oe):ue,q=Bn(e,"FORBID_TAGS")?zn({},e.FORBID_TAGS,Oe):qn({}),V=Bn(e,"FORBID_ATTR")?zn({},e.FORBID_ATTR,Oe):qn({}),le=!!Bn(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,K=!1!==e.ALLOW_DATA_ATTR,G=e.ALLOW_UNKNOWN_PROTOCOLS||!1,X=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,J=e.SAFE_FOR_TEMPLATES||!1,Y=!1!==e.SAFE_FOR_XML,Q=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,oe=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,ae=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,j=e.ALLOWED_URI_REGEXP||so,ve=e.NAMESPACE||ye,Te=e.MATHML_TEXT_INTEGRATION_POINTS||Te,Re=e.HTML_INTEGRATION_POINTS||Re,H=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ne(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(K=!1),ne&&(te=!0),le&&(U=zn({},Yn),F=[],!0===le.html&&(zn(U,$n),zn(F,Qn)),!0===le.svg&&(zn(U,Wn),zn(F,Zn),zn(F,to)),!0===le.svgFilters&&(zn(U,Kn),zn(F,Zn),zn(F,to)),!0===le.mathMl&&(zn(U,Xn),zn(F,eo),zn(F,to))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?$.tagCheck=e.ADD_TAGS:(U===M&&(U=qn(U)),zn(U,e.ADD_TAGS,Oe))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?$.attributeCheck=e.ADD_ATTR:(F===z&&(F=qn(F)),zn(F,e.ADD_ATTR,Oe))),e.ADD_URI_SAFE_ATTR&&zn(fe,e.ADD_URI_SAFE_ATTR,Oe),e.FORBID_CONTENTS&&(ce===ue&&(ce=qn(ce)),zn(ce,e.FORBID_CONTENTS,Oe)),ie&&(U["#text"]=!0),Q&&zn(U,["html","head","body"]),U.table&&(zn(U,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Un('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Un('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=e.TRUSTED_TYPES_POLICY,T=E.createHTML("")}else void 0===E&&(E=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return null}}(m,a)),null!==E&&"string"==typeof T&&(T=E.createHTML(""));wn&&wn(e),Ce=e}},Ie=zn({},[...Wn,...Kn,...Gn]),Pe=zn({},[...Xn,...Jn]),Le=function(e){Cn(n.removed,{element:e});try{w(e).removeChild(e)}catch(t){y(e)}},De=function(e,t){try{Cn(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(o){Cn(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{Le(t)}catch(o){}else try{t.setAttribute(e,"")}catch(o){}},Be=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=In(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ae&&ve===ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=E?E.createHTML(e):e;if(ve===ye)try{t=(new f).parseFromString(r,Ae)}catch(i){}if(!t||!t.documentElement){t=R.createDocument(ve,"template",null);try{t.documentElement.innerHTML=be?T:r}catch(i){}}const a=t.body||t.documentElement;return e&&n&&a.insertBefore(o.createTextNode(n),a.childNodes[0]||null),ve===ye?S.call(t,Q?"html":"body")[0]:Q?t.documentElement:a},je=function(e){return _.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ue=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Me=function(e){return"function"==typeof l&&e instanceof l};function Fe(e,t,o){An(e,e=>{e.call(n,t,o,Ce)})}const ze=function(e){let t=null;if(Fe(C.beforeSanitizeElements,e,null),Ue(e))return Le(e),!0;const o=Oe(e.nodeName);if(Fe(C.uponSanitizeElement,e,{tagName:o,allowedTags:U}),Y&&e.hasChildNodes()&&!Me(e.firstElementChild)&&jn(/<[/\w!]/g,e.innerHTML)&&jn(/<[/\w!]/g,e.textContent))return Le(e),!0;if(e.nodeType===go)return Le(e),!0;if(Y&&e.nodeType===yo&&jn(/<[/\w]/g,e.data))return Le(e),!0;if(!($.tagCheck instanceof Function&&$.tagCheck(o))&&(!U[o]||q[o])){if(!q[o]&&qe(o)){if(H.tagNameCheck instanceof RegExp&&jn(H.tagNameCheck,o))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(o))return!1}if(ie&&!ce[o]){const t=w(e)||e.parentNode,n=b(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const r=g(n[o],!0);r.__removalCount=(e.__removalCount||0)+1,t.insertBefore(r,v(e))}}}return Le(e),!0}return e instanceof c&&!function(e){let t=w(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=Nn(e.tagName),o=Nn(t.tagName);return!!we[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===ye?"svg"===n:t.namespaceURI===he?"svg"===n&&("annotation-xml"===o||Te[o]):Boolean(Ie[n]):e.namespaceURI===he?t.namespaceURI===ye?"math"===n:t.namespaceURI===ge?"math"===n&&Re[o]:Boolean(Pe[n]):e.namespaceURI===ye?!(t.namespaceURI===ge&&!Re[o])&&!(t.namespaceURI===he&&!Te[o])&&!Pe[n]&&(_e[n]||!Ie[n]):!("application/xhtml+xml"!==Ae||!we[e.namespaceURI]))}(e)?(Le(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!jn(/<\/no(script|embed|frames)/i,e.innerHTML)?(J&&e.nodeType===ho&&(t=e.textContent,An([k,N,x],e=>{t=Pn(t,e," ")}),e.textContent!==t&&(Cn(n.removed,{element:e.cloneNode()}),e.textContent=t)),Fe(C.afterSanitizeElements,e,null),!1):(Le(e),!0)},He=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in o||n in ke))return!1;if(K&&!V[t]&&jn(I,t));else if(W&&jn(P,t));else if($.attributeCheck instanceof Function&&$.attributeCheck(t,e));else if(!F[t]||V[t]){if(!(qe(e)&&(H.tagNameCheck instanceof RegExp&&jn(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&jn(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t,e))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&jn(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(fe[t]);else if(jn(j,Pn(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ln(n,"data:")||!de[e]){if(G&&!jn(L,Pn(n,D,"")));else if(n)return!1}else;return!0},qe=function(e){return"annotation-xml"!==e&&In(e,B)},Ve=function(e){Fe(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ue(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let r=t.length;for(;r--;){const i=t[r],{name:s,namespaceURI:l,value:c}=i,u=Oe(s),d=c;let p="value"===s?d:Dn(d);if(o.attrName=u,o.attrValue=p,o.keepAttr=!0,o.forceKeepAttr=void 0,Fe(C.uponSanitizeAttribute,e,o),p=o.attrValue,!ae||"id"!==u&&"name"!==u||(De(s,e),p="user-content-"+p),Y&&jn(/((--!?|])>)|<\/(style|title|textarea)/i,p)){De(s,e);continue}if("attributename"===u&&In(p,"href")){De(s,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){De(s,e);continue}if(!X&&jn(/\/>/i,p)){De(s,e);continue}J&&An([k,N,x],e=>{p=Pn(p,e," ")});const f=Oe(e.nodeName);if(He(f,u,p)){if(E&&"object"==typeof m&&"function"==typeof m.getAttributeType)if(l);else switch(m.getAttributeType(f,u)){case"TrustedHTML":p=E.createHTML(p);break;case"TrustedScriptURL":p=E.createScriptURL(p)}if(p!==d)try{l?e.setAttributeNS(l,s,p):e.setAttribute(s,p),Ue(e)?Le(e):On(n.removed)}catch(a){De(s,e)}}else De(s,e)}Fe(C.afterSanitizeAttributes,e,null)},$e=function e(t){let n=null;const o=je(t);for(Fe(C.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Fe(C.uponSanitizeShadowNode,n,null),ze(n),Ve(n),n.content instanceof i&&e(n.content);Fe(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,a=null,s=null,c=null;if(be=!e,be&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Me(e)){if("function"!=typeof e.toString)throw Un("toString is not a function");if("string"!=typeof(e=e.toString()))throw Un("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Z||xe(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Oe(e.nodeName);if(!U[t]||q[t])throw Un("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Be("\x3c!----\x3e"),a=o.ownerDocument.importNode(e,!0),a.nodeType===mo&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!te&&!J&&!Q&&-1===e.indexOf("<"))return E&&oe?E.createHTML(e):e;if(o=Be(e),!o)return te?null:oe?T:""}o&&ee&&Le(o.firstChild);const u=je(se?e:o);for(;s=u.nextNode();)ze(s),Ve(s),s.content instanceof i&&$e(s.content);if(se)return e;if(te){if(ne)for(c=A.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(F.shadowroot||F.shadowrootmode)&&(c=O.call(r,c,!0)),c}let d=Q?o.outerHTML:o.innerHTML;return Q&&U["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&jn(uo,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),J&&An([k,N,x],e=>{d=Pn(d,e," ")}),E&&oe?E.createHTML(d):d},n.setConfig=function(){xe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},n.clearConfig=function(){Ce=null,Z=!1},n.isValidAttribute=function(e,t,n){Ce||xe({});const o=Oe(e),r=Oe(t);return He(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&Cn(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Sn(C[e],t);return-1===n?void 0:kn(C[e],n,1)[0]}return On(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function wo(e){if(null==e)return null;if("string"!=typeof e)return null;return bo.sanitize(e).trim()||null}function Eo(e){return"string"!=typeof e?"":bo.sanitize(e).trim()}function To(e){if(!function(e){if("object"!=typeof e||null===e)return!1;if(Object.prototype.hasOwnProperty.call(e,"__proto__"))return!1;const t=e;return("number"==typeof t.id||"string"==typeof t.id)&&"string"==typeof t.email}(e))throw new Error("Invalid user data structure");const t=e;return{id:t.id,email:Eo(t.email),emailVerified:Boolean(t.emailVerified??t.email_verified??!1),title:wo(t.title),firstName:wo(t.firstName??t.firstname),lastName:wo(t.lastName??t.lastname),phone:wo(t.phone),phoneStatus:wo(t.phoneStatus??t.phone_status),pseudo:wo(t.pseudo),birthDate:wo(t.birthDate??t.birthdate??t.birth_date),avatarUrl:wo(t.avatarUrl??t.avatar_url),addresses:(n=t.addresses??t.adress_array,Array.isArray(n)?n.filter(e=>"object"==typeof e&&null!==e).map(e=>({id:e.adressId??e.id,title:wo(e.title),firstName:wo(e.firstname??e.firstName),lastName:wo(e.lastname??e.lastName),recipient:wo(e.recipient),line1:Eo(e.line1),line2:wo(e.line2),zipcode:Eo(e.zipcode??e.postalCode),city:Eo(e.city),country:Eo(e.country),isDefaultShipping:Boolean(e.mainAdress??e.isDefaultShipping??!1),isDefaultBilling:Boolean(e.mainBillAdress??e.isDefaultBilling??!1)})):[]),optinStatus:wo(t.optinStatus??t.optin_status),jdpStar:"number"==typeof t.jdpStar?t.jdpStar:null,tag:wo(t.tag),createdOn:wo(t.createdOn??t.created_on),lastLogin:wo(t.lastLogin??t.last_login)};var n}const Ro="jdp_cart",_o=28,Ao=1;class So extends Error{code;constructor(e,t){super(e),this.name="CartError",this.code=t}}function Oo(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function Co(e){return e/100}const ko=new class{async addToCart(e,t=Ao,n=_o,o=null){try{const r={referenceId:e,quantity:t,storeId:n,...o&&{basketCode:o}},a=await cn.post("/addReference",r);if("error"===a.status)throw rn.error("❌ [CART SERVICE] Erreur addReference:",a.message||"Raison inconnue"),new So(a.message||"Impossible d'ajouter l'article (erreur backend)","API_ERROR");return a}catch(r){rn.error("❌ [CART SERVICE] Erreur lors de l'ajout au panier:",r);const e=pn(r);throw new So(e?.message||"Impossible d'ajouter l'article au panier","API_ERROR")}}async fetchCart(e){try{const t={basketCode:e,storeId:_o},n=await cn.post("/fetchBasket",t);if("error"===n.status)throw rn.warn(`⚠️ [CART SERVICE] Panier non trouvé: ${n.message}`),new So(n.message||"Panier non trouvé","BASKET_NOT_FOUND");if(!n||!n.basket||Array.isArray(n.basket))throw rn.error("❌ [CART SERVICE] Réponse fetchBasket invalide:",n),new So("Réponse du serveur invalide","API_ERROR");return n}catch(t){if(t instanceof So)throw t;rn.error("❌ [CART SERVICE] Erreur lors de la récupération du panier:",t);const e=pn(t);throw new So(e?.message||"Impossible de récupérer le panier","API_ERROR")}}async updateQuantity(e,t,n){try{if(t<0)throw new So("La quantité ne peut pas être négative","INVALID_QUANTITY");const o={priceId:e,quantity:t,basketCode:n};return await cn.post("/basketChangeQuantityReference",o)}catch(o){if(o instanceof So)throw o;rn.error("❌ [CART SERVICE] Erreur lors de la mise à jour de quantité:",o);const e=pn(o);throw new So(e?.message||"Impossible de modifier la quantité","API_ERROR")}}async deleteReference(e,t=1,n){try{const o={referenceId:e,quantity:t,storeId:_o,basketCode:n},r=await cn.post("/deleteReference",o);if("error"===r.status)throw rn.error("❌ [CART SERVICE] Erreur deleteReference:",r.message),new So(r.message||"Erreur lors de la suppression","API_ERROR");return r}catch(o){if(o instanceof So)throw o;rn.error("❌ [CART SERVICE] Erreur lors de la suppression:",o);const e=pn(o);throw new So(e?.message||"Impossible de supprimer l'article","API_ERROR")}}async removeFromCart(e,t){return this.updateQuantity(e,0,t)}async clearCart(e,t){try{let n=null;for(const o of e)n=await this.deleteReference(o.itemId,o.quantity,t);if(!n)throw new So("Panier déjà vide","API_ERROR");return n}catch(n){if(n instanceof So)throw n;throw rn.error("❌ [CART SERVICE] Erreur lors du vidage du panier:",n),new So("Impossible de vider le panier","API_ERROR")}}mapAPIItemToCartItem(e){return{itemId:e.itemId,priceId:e.priceId,storeId:e.storeId,id:e.priceId,name:Oo(e.name),quantity:e.quantity,couponId:e.couponId,price:Co(e.price),priceHT:Co(e.HTPrice),discountPrice:Co(e.discountPrice),discountPriceHT:Co(e.HTDiscount),vatRate:e.vat,currency:e.currency,images:e.image_array?.map(e=>e.path.startsWith("http")?e.path:`https://jeandeportal.fr${e.path.startsWith("/")?"":"/"}${e.path}`)||[]}}mapAPIResponseToReceipt(e){const t=e.basket;return{referenceNumber:t.referenceNumber,tax:Co(t.tax),total:Co(t.total),discountTotal:Co(t.discountTotal)}}mapAPIResponse(e){if(!e)throw rn.error("❌ [CART SERVICE] Réponse API vide"),new So("Réponse du serveur invalide","API_ERROR");if(!e.basket)throw rn.error("❌ [CART SERVICE] Réponse API sans basket:",e),new So("Panier non trouvé dans la réponse","API_ERROR");const t=e.basket;return{items:(t.referenceList||[]).map(e=>this.mapAPIItemToCartItem(e)),receipt:this.mapAPIResponseToReceipt(e),basketCode:t.basketCode}}};let No=1;const xo=new class{subscribers;toasts;dismissedToasts;constructor(){this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)});publish=e=>{this.subscribers.forEach(t=>t(e))};addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]};create=e=>{const{message:t,...n}=e,o="number"==typeof e.id||e.id&&e.id?.length>0?e.id:No++,r=this.toasts.find(e=>e.id===o),a=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),r?this.toasts=this.toasts.map(n=>n.id===o?(this.publish({...n,...e,id:o,title:t}),{...n,...e,id:o,dismissible:a,title:t}):n):this.addToast({title:t,...n,dismissible:a,id:o}),o};dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e);message=(e,t)=>this.create({...t,message:e,type:"default"});error=(e,t)=>this.create({...t,type:"error",message:e});success=(e,t)=>this.create({...t,type:"success",message:e});info=(e,t)=>this.create({...t,type:"info",message:e});warning=(e,t)=>this.create({...t,type:"warning",message:e});loading=(e,t)=>this.create({...t,type:"loading",message:e});promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let r,a=void 0!==n;const i=o.then(async e=>{r=["resolve",e];if(d(e))a=!1,this.create({id:n,type:"default",message:e});else if(Io(e)&&!e.ok){a=!1;const o="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof o&&!d(o)?o:{message:o||"",id:n||""};this.create({id:n,type:"error",description:r,...i})}else if(e instanceof Error){a=!1;const o="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof o&&!d(o)?o:{message:o||"",id:n||""};this.create({id:n,type:"error",description:r,...i})}else if(void 0!==t.success){a=!1;const o="function"==typeof t.success?await t.success(e):t.success,r="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof o&&!d(o)?o:{message:o||"",id:n||""};this.create({id:n,type:"success",description:r,...i})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){a=!1;const o="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof o&&!d(o)?o:{message:o||"",id:n||""};this.create({id:n,type:"error",description:r,...i})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),t.finally?.()}),s=()=>new Promise((e,t)=>i.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:s}:Object.assign(n,{unwrap:s})};custom=(e,t)=>{const n=t?.id||No++,o=this.toasts.find(e=>e.id===n),r=void 0===t?.dismissible||t.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),o?this.toasts=this.toasts.map(o=>o.id===n?(this.publish({...o,component:e,dismissible:r,id:n,...t}),{...o,component:e,dismissible:r,id:n,...t}):o):this.addToast({component:e,dismissible:r,id:n,...t}),n};getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id))};const Io=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Po=function(e,t){const n=t?.id||No++;return xo.create({message:e,id:n,type:"default",...t}),n},Lo=Object.assign(Po,{success:xo.success,info:xo.info,warning:xo.warning,error:xo.error,custom:xo.custom,message:xo.message,promise:xo.promise,dismiss:xo.dismiss,loading:xo.loading},{getHistory:()=>xo.toasts,getToasts:()=>xo.getActiveToasts()});function Do(e){return void 0!==e.label}const Bo="24px",jo="16px";function Uo(...e){return e.filter(Boolean).join(" ")}function Mo(e,t){const n={};return[e,t].forEach((e,t)=>{const o=1===t,r=o?"--mobile-offset":"--offset",a=o?jo:Bo;function i(e){["top","right","bottom","left"].forEach(t=>{n[`${r}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?n[`${r}-${t}`]=a:n[`${r}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(a)}),n}const Fo=["data-rich-colors","data-styled","data-mounted","data-promise","data-swiped","data-removed","data-visible","data-y-position","data-x-position","data-index","data-front","data-swiping","data-dismissible","data-type","data-invert","data-swipe-out","data-swipe-direction","data-expanded","data-testid"],zo=["aria-label","data-disabled","data-close-button-position"];var Ho=e({__name:"Toast",props:{toast:{},toasts:{},index:{},swipeDirections:{},expanded:{type:Boolean},invert:{type:Boolean},heights:{},gap:{},position:{},closeButtonPosition:{},visibleToasts:{},expandByDefault:{type:Boolean},closeButton:{type:Boolean},interacting:{type:Boolean},style:{},cancelButtonStyle:{},actionButtonStyle:{},duration:{},class:{},unstyled:{type:Boolean},descriptionClass:{},loadingIcon:{},classes:{},icons:{},closeButtonAriaLabel:{},defaultRichColors:{type:Boolean}},emits:["update:heights","update:height","removeToast"],setup(e,{emit:t}){const c=e,d=t,g=n(null),v=n(null),C=n(!1),k=n(!1),N=n(!1),x=n(!1),I=n(!1),P=n(0),L=n(0),D=n(c.toast.duration||c.duration||4e3),B=n(null),j=n(null),U=o(()=>0===c.index),M=o(()=>c.index+1<=c.visibleToasts),F=o(()=>c.toast.type),z=o(()=>!1!==c.toast.dismissible),H=o(()=>c.toast.class||""),q=o(()=>c.descriptionClass||""),V=o(()=>{const e=c.toast.position||c.position,t=c.heights.filter(t=>t.position===e).findIndex(e=>e.toastId===c.toast.id);return t>=0?t:0}),$=o(()=>{const e=c.toast.position||c.position;return c.heights.filter(t=>t.position===e).reduce((e,t,n)=>n>=V.value?e:e+t.height,0)}),W=o(()=>V.value*c.gap+$.value||0),K=o(()=>c.toast.closeButton??c.closeButton),G=o(()=>c.toast.duration||c.duration||4e3),X=n(0),J=n(0),Y=n(null),Q=o(()=>c.position.split("-")),Z=o(()=>Q.value[0]),ee=o(()=>Q.value[1]),te=o(()=>"string"!=typeof c.toast.title),ne=o(()=>"string"!=typeof c.toast.description),{isDocumentHidden:oe}=function(){const e=n(!1);return r(()=>{const t=()=>{e.value=document.hidden};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)}),{isDocumentHidden:e}}(),re=o(()=>F.value&&"loading"===F.value);function ae(){k.value=!0,P.value=W.value,setTimeout(()=>{d("removeToast",c.toast)},200)}function ie(){if(re.value||!z.value)return{};ae(),c.toast.onDismiss?.(c.toast)}function se(e){2!==e.button&&!re.value&&z.value&&(B.value=new Date,P.value=W.value,e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(N.value=!0,Y.value={x:e.clientX,y:e.clientY}))}function le(){if(x.value||!z.value)return;Y.value=null;const e=Number(j.value?.style.getPropertyValue("--swipe-amount-x").replace("px","")||0),t=Number(j.value?.style.getPropertyValue("--swipe-amount-y").replace("px","")||0),n=(new Date).getTime()-(B.value?.getTime()||0),o="x"===g.value?e:t,r=Math.abs(o)/n;if(Math.abs(o)>=45||r>.11)return P.value=W.value,c.toast.onDismiss?.(c.toast),"x"===g.value?v.value=e>0?"right":"left":v.value=t>0?"down":"up",ae(),void(x.value=!0);j.value?.style.setProperty("--swipe-amount-x","0px"),j.value?.style.setProperty("--swipe-amount-y","0px"),I.value=!1,N.value=!1,g.value=null}function ce(e){if(!Y.value||!z.value)return;if(window?.getSelection()?.toString()?.length??!1)return;const t=e.clientY-Y.value.y,n=e.clientX-Y.value.x,o=c.swipeDirections??function(e){const[t,n]=e.split("-"),o=[];return t&&o.push(t),n&&o.push(n),o}(c.position);!g.value&&(Math.abs(n)>1||Math.abs(t)>1)&&(g.value=Math.abs(n)>Math.abs(t)?"x":"y");let r={x:0,y:0};const a=e=>1/(1.5+Math.abs(e)/20);if("y"===g.value){if(o.includes("top")||o.includes("bottom"))if(o.includes("top")&&t<0||o.includes("bottom")&&t>0)r.y=t;else{const e=t*a(t);r.y=Math.abs(e)<Math.abs(t)?e:t}}else if("x"===g.value&&(o.includes("left")||o.includes("right")))if(o.includes("left")&&n<0||o.includes("right")&&n>0)r.x=n;else{const e=n*a(n);r.x=Math.abs(e)<Math.abs(n)?e:n}(Math.abs(r.x)>0||Math.abs(r.y)>0)&&(I.value=!0),j.value?.style.setProperty("--swipe-amount-x",`${r.x}px`),j.value?.style.setProperty("--swipe-amount-y",`${r.y}px`)}function ue(){N.value=!1,g.value=null,Y.value=null}return E(()=>{C.value=!0,D.value=G.value}),r(async()=>{if(!C.value||!j.value)return;await p();const e=j.value,t=e.style.height;e.style.height="auto";const n=e.getBoundingClientRect().height;e.style.height=t,L.value=n,d("update:height",{toastId:c.toast.id,height:n,position:c.toast.position||c.position})}),E(()=>{if(C.value=!0,!j.value)return;const e=j.value.getBoundingClientRect().height;L.value=e;const t=[{toastId:c.toast.id,height:e,position:c.toast.position},...c.heights];d("update:heights",t)}),T(()=>{j.value&&d("removeToast",c.toast)}),r(e=>{if(c.toast.promise&&"loading"===F.value||c.toast.duration===1/0||"loading"===c.toast.type)return;let t;c.expanded||c.interacting||oe.value?(()=>{if(J.value<X.value){const e=(new Date).getTime()-X.value;D.value=D.value-e}J.value=(new Date).getTime()})():D.value!==1/0&&(X.value=(new Date).getTime(),t=setTimeout(()=>{c.toast.onAutoClose?.(c.toast),ae()},D.value)),e(()=>{clearTimeout(t)})}),R(()=>c.toast.delete,e=>{void 0!==e&&e&&(ae(),c.toast.onDismiss?.(c.toast))},{deep:!0}),(e,t)=>(f(),a("li",{tabindex:"0",ref_key:"toastRef",ref:j,class:w(u(Uo)(c.class,H.value,e.classes?.toast,e.toast.classes?.toast,e.classes?.[F.value],e.toast?.classes?.[F.value])),"data-sonner-toast":"","data-rich-colors":e.toast.richColors??e.defaultRichColors,"data-styled":!Boolean(e.toast.component||e.toast?.unstyled||e.unstyled),"data-mounted":C.value,"data-promise":Boolean(e.toast.promise),"data-swiped":I.value,"data-removed":k.value,"data-visible":M.value,"data-y-position":Z.value,"data-x-position":ee.value,"data-index":e.index,"data-front":U.value,"data-swiping":N.value,"data-dismissible":z.value,"data-type":F.value,"data-invert":e.toast.invert||e.invert,"data-swipe-out":x.value,"data-swipe-direction":v.value,"data-expanded":Boolean(e.expanded||e.expandByDefault&&C.value),"data-testid":e.toast.testId,style:b({"--index":e.index,"--toasts-before":e.index,"--z-index":e.toasts.length-e.index,"--offset":`${k.value?P.value:W.value}px`,"--initial-height":e.expandByDefault?"auto":`${L.value}px`,...e.style,...c.toast.style}),onDragend:ue,onPointerdown:se,onPointerup:le,onPointermove:ce},[K.value&&!e.toast.component&&"loading"!==F.value?(f(),a("button",{key:0,"aria-label":e.closeButtonAriaLabel||"Close toast","data-disabled":re.value,"data-close-button":"true","data-close-button-position":e.closeButtonPosition,class:w(u(Uo)(e.classes?.closeButton,e.toast?.classes?.closeButton)),onClick:ie},[e.icons?.close?(f(),h(_(e.icons?.close),{key:0})):y(e.$slots,"close-icon",{key:1})],10,zo)):i("v-if",!0),e.toast.component?(f(),h(_(e.toast.component),m({key:1},e.toast.componentProps,{onCloseToast:ie,isPaused:e.$props.expanded||e.$props.interacting||u(oe)}),null,16,["isPaused"])):(f(),a(l,{key:2},["default"!==F.value||e.toast.icon||e.toast.promise?(f(),a("div",{key:0,"data-icon":"",class:w(u(Uo)(e.classes?.icon,e.toast?.classes?.icon))},[e.toast.icon?(f(),h(_(e.toast.icon),{key:0})):(f(),a(l,{key:1},["loading"===F.value?y(e.$slots,"loading-icon",{key:0}):"success"===F.value?y(e.$slots,"success-icon",{key:1}):"error"===F.value?y(e.$slots,"error-icon",{key:2}):"warning"===F.value?y(e.$slots,"warning-icon",{key:3}):"info"===F.value?y(e.$slots,"info-icon",{key:4}):i("v-if",!0)],64))],2)):i("v-if",!0),s("div",{"data-content":"",class:w(u(Uo)(e.classes?.content,e.toast?.classes?.content))},[s("div",{"data-title":"",class:w(u(Uo)(e.classes?.title,e.toast.classes?.title))},[te.value?(f(),h(_(e.toast.title),A(m({key:0},e.toast.componentProps)),null,16)):(f(),a(l,{key:1},[S(O(e.toast.title),1)],64))],2),e.toast.description?(f(),a("div",{key:0,"data-description":"",class:w(u(Uo)(e.descriptionClass,q.value,e.classes?.description,e.toast.classes?.description))},[ne.value?(f(),h(_(e.toast.description),A(m({key:0},e.toast.componentProps)),null,16)):(f(),a(l,{key:1},[S(O(e.toast.description),1)],64))],2)):i("v-if",!0)],2),e.toast.cancel?(f(),a("button",{key:1,style:b(e.toast.cancelButtonStyle||e.cancelButtonStyle),class:w(u(Uo)(e.classes?.cancelButton,e.toast.classes?.cancelButton)),"data-button":"","data-cancel":"",onClick:t[0]||(t[0]=t=>{u(Do)(e.toast.cancel)&&z.value&&(e.toast.cancel.onClick?.(t),ae())})},O(u(Do)(e.toast.cancel)?e.toast.cancel?.label:e.toast.cancel),7)):i("v-if",!0),e.toast.action?(f(),a("button",{key:2,style:b(e.toast.actionButtonStyle||e.actionButtonStyle),class:w(u(Uo)(e.classes?.actionButton,e.toast.classes?.actionButton)),"data-button":"","data-action":"",onClick:t[1]||(t[1]=t=>{u(Do)(e.toast.action)&&(e.toast.action.onClick?.(t),t.defaultPrevented||ae())})},O(u(Do)(e.toast.action)?e.toast.action?.label:e.toast.action),7)):i("v-if",!0)],64))],46,Fo))}}),qo=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const Vo={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stoke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"};var $o=qo({},[["render",function(e,t){return f(),a("svg",Vo,t[0]||(t[0]=[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1)]))}]]);const Wo=["data-visible"],Ko={class:"sonner-spinner"};var Go=e({__name:"Loader",props:{visible:{type:Boolean}},setup(e){const t=Array(12).fill(0);return(e,n)=>(f(),a("div",{class:"sonner-loading-wrapper","data-visible":e.visible},[s("div",Ko,[(f(!0),a(l,null,c(u(t),e=>(f(),a("div",{key:`spinner-bar-${e}`,class:"sonner-loading-bar"}))),128))])],8,Wo))}});const Xo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};var Jo=qo({},[["render",function(e,t){return f(),a("svg",Xo,t[0]||(t[0]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"},null,-1)]))}]]);const Yo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};var Qo=qo({},[["render",function(e,t){return f(),a("svg",Yo,t[0]||(t[0]=[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z","clip-rule":"evenodd"},null,-1)]))}]]);const Zo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"};var er=qo({},[["render",function(e,t){return f(),a("svg",Zo,t[0]||(t[0]=[s("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1)]))}]]);const tr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"};var nr=qo({},[["render",function(e,t){return f(),a("svg",tr,t[0]||(t[0]=[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"},null,-1)]))}]]);const or=["aria-label"],rr=["data-sonner-theme","dir","data-theme","data-rich-colors","data-y-position","data-x-position"],ar="undefined"!=typeof window&&"undefined"!=typeof document;function ir(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var sr=e({name:"Toaster",inheritAttrs:!1,__name:"Toaster",props:{id:{},invert:{type:Boolean,default:!1},theme:{default:"light"},position:{default:"bottom-right"},closeButtonPosition:{default:"top-left"},hotkey:{default:()=>["altKey","KeyT"]},richColors:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},duration:{},gap:{default:14},visibleToasts:{default:3},closeButton:{type:Boolean,default:!1},toastOptions:{default:()=>({})},class:{default:""},style:{},offset:{default:Bo},mobileOffset:{default:jo},dir:{default:"auto"},swipeDirections:{},icons:{},containerAriaLabel:{default:"Notifications"}},setup(e){const d=e,E=t(),T=n([]),R=o(()=>d.id?T.value.filter(e=>e.toasterId===d.id):T.value.filter(e=>!e.toasterId));function _(e,t){return R.value.filter(n=>!n.position&&0===t||n.position===e)}const A=o(()=>{const e=R.value.filter(e=>e.position).map(e=>e.position);return e.length>0?Array.from(new Set([d.position].concat(e))):[d.position]}),S=o(()=>{const e={};return A.value.forEach(t=>{e[t]=T.value.filter(e=>e.position===t)}),e}),O=n([]),C=n({}),k=n(!1);r(()=>{A.value.forEach(e=>{e in C.value||(C.value[e]=!1)})});const N=n("system"!==d.theme?d.theme:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),x=n(null),I=n(null),P=n(!1),L=d.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,"");function D(e){T.value.find(t=>t.id===e.id)?.delete||xo.dismiss(e.id),T.value=T.value.filter(({id:t})=>t!==e.id),setTimeout(()=>{T.value.find(t=>t.id===e.id)||(O.value=O.value.filter(t=>t.toastId!==e.id))},250)}function B(e){P.value&&!e.currentTarget?.contains?.(e.relatedTarget)&&(P.value=!1,I.value&&(I.value.focus({preventScroll:!0}),I.value=null))}function j(e){e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P.value||(P.value=!0,I.value=e.relatedTarget)}function U(e){if(e.target){if(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)return}k.value=!0}function M(e){const t=e.currentTarget,n=t.getAttribute("data-y-position")+"-"+t.getAttribute("data-x-position");C.value[n]=!0}function F(e){if(!k.value){const t=e.currentTarget,n=t.getAttribute("data-y-position")+"-"+t.getAttribute("data-x-position");C.value[n]=!1}}function z(){Object.keys(C.value).forEach(e=>{C.value[e]=!1})}function H(){k.value=!1}function q(e){O.value=e}function V(e){const t=O.value.findIndex(t=>t.toastId===e.toastId);if(-1!==t)O.value[t]=e;else{const t=O.value.findIndex(t=>t.position===e.position);-1!==t?O.value.splice(t,0,e):O.value.unshift(e)}}return r(e=>{e(xo.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{T.value=T.value.map(t=>t.id===e.id?{...t,delete:!0}:t)}):p(()=>{const t=T.value.findIndex(t=>t.id===e.id);T.value=-1!==t?[...T.value.slice(0,t),{...T.value[t],...e},...T.value.slice(t+1)]:[e,...T.value]})}))}),r(e=>{if("undefined"==typeof window)return;if("system"!==d.theme)return void(N.value=d.theme);const t=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{N.value=e?"dark":"light"};n(t.matches);const o=e=>{n(e.matches)};try{t.addEventListener("change",o)}catch{t.addListener(o)}e(()=>{try{t.removeEventListener("change",o)}catch{t.removeListener(o)}})}),r(()=>{x.value&&I.value&&(I.value.focus({preventScroll:!0}),I.value=null,P.value=!1)}),r(()=>{T.value.length<=1&&Object.keys(C.value).forEach(e=>{C.value[e]=!1})}),r(e=>{function t(e){const t=d.hotkey.every(t=>e[t]||e.code===t),n=Array.isArray(x.value)?x.value[0]:x.value;t&&(A.value.forEach(e=>{C.value[e]=!0}),n?.focus());const o=document.activeElement===x.value||n?.contains(document.activeElement);"Escape"===e.code&&o&&A.value.forEach(e=>{C.value[e]=!1})}ar&&(document.addEventListener("keydown",t),e(()=>{document.removeEventListener("keydown",t)}))}),(e,t)=>(f(),a(l,null,[i(" Remove item from normal navigation flow, only available via hotkey "),s("section",{"aria-label":`${e.containerAriaLabel} ${u(L)}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},[(f(!0),a(l,null,c(A.value,(t,n)=>(f(),a("ol",m({key:t,ref_for:!0,ref_key:"listRef",ref:x,"data-sonner-toaster":"","data-sonner-theme":N.value,class:d.class,dir:"auto"===e.dir?ir():e.dir,tabIndex:-1,"data-theme":e.theme,"data-rich-colors":e.richColors,"data-y-position":t.split("-")[0],"data-x-position":t.split("-")[1],style:{"--front-toast-height":`${O.value[0]?.height||0}px`,"--width":`${u(356)}px`,"--gap":`${e.gap}px`,...e.style,...u(E).style,...u(Mo)(e.offset,e.mobileOffset)}},{ref_for:!0},e.$attrs,{onBlur:B,onFocus:j,onMouseenter:M,onMousemove:M,onMouseleave:F,onDragend:z,onPointerdown:U,onPointerup:H}),[(f(!0),a(l,null,c(_(t,n),(n,o)=>(f(),h(Ho,{key:n.id,heights:O.value,icons:e.icons,index:o,toast:n,defaultRichColors:e.richColors,duration:e.toastOptions?.duration??e.duration,class:w(e.toastOptions?.class??""),descriptionClass:e.toastOptions?.descriptionClass,invert:e.invert,visibleToasts:e.visibleToasts,closeButton:e.toastOptions?.closeButton??e.closeButton,interacting:k.value,position:t,closeButtonPosition:e.toastOptions?.closeButtonPosition??e.closeButtonPosition,style:b(e.toastOptions?.style),unstyled:e.toastOptions?.unstyled,classes:e.toastOptions?.classes,cancelButtonStyle:e.toastOptions?.cancelButtonStyle,actionButtonStyle:e.toastOptions?.actionButtonStyle,"close-button-aria-label":e.toastOptions?.closeButtonAriaLabel,toasts:S.value[t],expandByDefault:e.expand,gap:e.gap,expanded:C.value[t]||!1,swipeDirections:d.swipeDirections,"onUpdate:heights":q,"onUpdate:height":V,onRemoveToast:D},{"close-icon":g(()=>[y(e.$slots,"close-icon",{},()=>[v($o)])]),"loading-icon":g(()=>[y(e.$slots,"loading-icon",{},()=>[v(Go,{visible:"loading"===n.type},null,8,["visible"])])]),"success-icon":g(()=>[y(e.$slots,"success-icon",{},()=>[v(Jo)])]),"error-icon":g(()=>[y(e.$slots,"error-icon",{},()=>[v(nr)])]),"warning-icon":g(()=>[y(e.$slots,"warning-icon",{},()=>[v(er)])]),"info-icon":g(()=>[y(e.$slots,"info-icon",{},()=>[v(Qo)])]),_:2},1032,["heights","icons","index","toast","defaultRichColors","duration","class","descriptionClass","invert","visibleToasts","closeButton","interacting","position","closeButtonPosition","style","unstyled","classes","cancelButtonStyle","actionButtonStyle","close-button-aria-label","toasts","expandByDefault","gap","expanded","swipeDirections"]))),128))],16,rr))),128))],8,or)],2112))}});const lr="jdp_basket_code";function cr(e){try{e?localStorage.setItem(lr,e):localStorage.removeItem(lr)}catch(t){rn.error("❌ Erreur lors de la sauvegarde du basketCode:",t)}}const ur=C("cart",()=>{const e=n({items:[],receipt:null,basketCode:null,isLoading:!1,isSynced:!1,lastSyncTimestamp:0}),t=o(()=>e.value.items),r=o(()=>e.value.receipt),a=o(()=>e.value.isLoading),i=o(()=>e.value.isSynced),s=o(()=>e.value.basketCode),l=o(()=>e.value.items.reduce((e,t)=>e+(t.quantity||0),0)),c=o(()=>e.value.receipt?e.value.receipt.discountTotal:e.value.items.reduce((e,t)=>{const n=t.quantity||0;return e+t.price*n},0)),u=o(()=>e.value.items.reduce((e,t)=>{const n=t.quantity||0;return e+t.priceHT*n},0)),d=o(()=>e.value.receipt?e.value.receipt.tax:c.value-u.value),p=o(()=>{const t={};return e.value.items.forEach(e=>{const n=e.vatRate||0,o=(e.price-e.priceHT)*(e.quantity||0),r=n.toString();t[r]=(t[r]||0)+o}),t}),f=o(()=>0===e.value.items.length),m=t=>e.value.items.find(e=>e.priceId===t),h=t=>e.value.items.find(e=>e.itemId===t);async function g(){if(e.value.basketCode){e.value.isLoading=!0;try{const t=await ko.fetchCart(e.value.basketCode),n=ko.mapAPIResponse(t);e.value.items=n.items,e.value.receipt=n.receipt,e.value.basketCode=n.basketCode,e.value.isSynced=!0,e.value.lastSyncTimestamp=Date.now()}catch(t){throw rn.error("❌ [CART STORE] Erreur lors de la synchronisation:",t),t}finally{e.value.isLoading=!1}}else e.value.isSynced=!0}async function y(t,n){if(!e.value.basketCode)throw new So("Pas de panier actif","SYNC_ERROR");e.value.isLoading=!0;try{const o=await ko.updateQuantity(t,n,e.value.basketCode),r=ko.mapAPIResponse(o);e.value.items=r.items,e.value.receipt=r.receipt,e.value.basketCode=r.basketCode,e.value.lastSyncTimestamp=Date.now(),0===n?Lo.success("Article retiré du panier"):Lo.success("Quantité mise à jour")}catch(o){throw rn.error("❌ [CART STORE] Erreur lors de la mise à jour:",o),o}finally{e.value.isLoading=!1}}return{items:t,receipt:r,basketCode:s,isLoading:a,isSynced:i,itemCount:l,subtotal:c,subtotalExclVAT:u,vatAmount:d,vatByRate:p,isEmpty:f,findItem:m,findItemByItemId:h,hasItem:e=>void 0!==m(e),initialize:async function(){!function(){try{localStorage.getItem(Ro)&&localStorage.removeItem(Ro)}catch(e){rn.error("Erreur lors du nettoyage du localStorage:",e)}}();const t=function(){try{return localStorage.getItem(lr)}catch{return null}}();t&&(e.value.basketCode=t);try{await g()}catch(n){const t=n;"BASKET_NOT_FOUND"===t?.code&&(e.value.basketCode=null,cr(null))}},syncWithBackend:g,addItem:async function(t,n=Ao){e.value.isLoading=!0;try{const o=await ko.addToCart(t,n,_o,e.value.basketCode),r=ko.mapAPIResponse(o);e.value.items=r.items,e.value.receipt=r.receipt,e.value.basketCode=r.basketCode,e.value.isSynced=!0,e.value.lastSyncTimestamp=Date.now(),r.basketCode?cr(r.basketCode):rn.error("❌ [CART STORE] ATTENTION: basketCode est null/undefined dans la réponse!")}catch(o){throw rn.error("❌ [CART STORE] Erreur lors de l'ajout:",o),o}finally{e.value.isLoading=!1}},updateItemQuantity:y,removeItem:async function(t,n){if(!e.value.basketCode)throw new So("Pas de panier actif","SYNC_ERROR");const o=h(t);if(!o)throw new So("Article non trouvé","ITEM_NOT_FOUND");const r=n??o.quantity;e.value.isLoading=!0;try{const n=await ko.deleteReference(t,r,e.value.basketCode),o=ko.mapAPIResponse(n);e.value.items=o.items,e.value.receipt=o.receipt,e.value.basketCode=o.basketCode,e.value.lastSyncTimestamp=Date.now(),Lo.success("Article retiré du panier")}catch(a){throw rn.error("❌ [CART STORE] Erreur lors de la suppression:",a),a}finally{e.value.isLoading=!1}},clearCart:async function(){if(0!==e.value.items.length&&e.value.basketCode){e.value.isLoading=!0;try{const t=await ko.clearCart(e.value.items,e.value.basketCode),n=ko.mapAPIResponse(t);e.value.items=n.items,e.value.receipt=n.receipt,e.value.basketCode=n.basketCode,e.value.lastSyncTimestamp=Date.now(),Lo.success("Panier vidé")}catch(t){throw rn.error("❌ [CART STORE] Erreur lors du vidage:",t),t}finally{e.value.isLoading=!1}}},increaseQuantity:async function(e){const t=m(e);if(!t)throw new So("Article non trouvé","ITEM_NOT_FOUND");return y(e,t.quantity+1)},decreaseQuantity:async function(e){const t=m(e);if(!t)throw new So("Article non trouvé","ITEM_NOT_FOUND");return y(e,Math.max(0,t.quantity-1))},resetCart:function(){e.value={items:[],receipt:null,basketCode:null,isLoading:!1,isSynced:!1,lastSyncTimestamp:0},cr(null)}}});const dr=new class{async fetchBookmarks(){return cn.get("/bookmarks")}async addBookmark(e){return cn.post(`/bookmarks/${e}`)}async removeBookmark(e){await cn.delete(`/bookmarks/${e}`)}},pr=C("bookmark",()=>{const e=n(new Set),t=n(!1);return{slugs:e,isInitialized:t,isBookmarked:function(t){return e.value.has(t)},toggle:async function(t){const n=e.value.has(t);n?(e.value.delete(t),e.value=new Set(e.value)):(e.value.add(t),e.value=new Set(e.value));try{n?(await dr.removeBookmark(t),Lo.success("Article retiré des favoris")):(await dr.addBookmark(t),Lo.success("Article ajouté aux favoris"))}catch(o){n?e.value.add(t):e.value.delete(t),e.value=new Set(e.value),rn.error("Erreur lors du toggle bookmark:",o),Lo.error("Erreur lors de la sauvegarde")}},initialize:async function(){if(!t.value)try{const t=await dr.fetchBookmarks();e.value=new Set(t.map(e=>e.slug))}catch(n){}finally{t.value=!0}},reset:function(){e.value=new Set,t.value=!1}}}),fr=C("auth",()=>{const e=n(null),t=n(!1),r=n(null),a=n(!1),i=o(()=>null!==e.value),s=o(()=>e.value?`${e.value.firstName} ${e.value.lastName}`:"");async function l(){t.value=!0;try{await mn.logout()}catch(n){rn.error("Erreur lors de la déconnexion côté serveur:",n)}finally{e.value=null,ln();ur().resetCart(),t.value=!1,window.location.href="/auth"}}return{user:e,isLoading:t,error:r,isInitialized:a,isAuthenticated:i,userFullName:s,initialize:async function(){if(a.value)return;const n=function(){const e=localStorage.getItem(an);if(!e)return null;try{return JSON.parse(e)}catch(r){return rn.error("Erreur lors du parsing des données utilisateur:",r),null}}();if(n){t.value=!0;try{const t=await mn.getUserProfile();e.value=To(t),sn(t)}catch{ln(),e.value=null}finally{t.value=!1,a.value=!0}}else a.value=!0},waitForInitialization:async function(){if(!a.value)return new Promise(e=>{const t=R(a,n=>{n&&(t(),e())},{immediate:!0})})},login:async function(n){t.value=!0,r.value=null;try{const t=await mn.login(n),r=await mn.getUserProfile();e.value=To(r),sn(r);const a=ur();if(a.basketCode)try{await a.syncWithBackend()}catch(o){rn.warn("⚠️ [AUTH STORE] Erreur lors de la sync panier (non bloquant):",o)}pr().initialize();return t.afterLogin||"/"}catch(o){throw r.value=o instanceof B?o:new B("Une erreur est survenue lors de la connexion","UNKNOWN_ERROR"),r.value}finally{t.value=!1}},register:async function(e){t.value=!0,r.value=null;try{return await mn.register(e),{success:!0}}catch(n){throw r.value=n instanceof B?n:new B("Une erreur est survenue lors de l'inscription","UNKNOWN_ERROR"),r.value}finally{t.value=!1}},verifyEmail:async function(e){t.value=!0,r.value=null;try{return await mn.verifyEmail(e)}catch(n){throw r.value=n instanceof B?n:new B("Une erreur est survenue lors de la vérification","UNKNOWN_ERROR"),r.value}finally{t.value=!1}},logout:l,refreshUser:async function(){if(e.value)try{const t=await mn.getUserProfile();e.value=To(t),sn(t)}catch(t){rn.error("Erreur lors du rafraîchissement du profil:",t),await l()}},updateUserProfile:async function(n){if(!e.value)throw new B("Vous devez être connecté pour modifier votre profil.","TOKEN_EXPIRED");t.value=!0,r.value=null;try{const t=await mn.updateProfile(n);e.value=To(t),sn(t)}catch(o){throw r.value=o instanceof B?o:new B("Une erreur est survenue lors de la mise à jour du profil","UNKNOWN_ERROR"),r.value}finally{t.value=!1}},clearError:function(){r.value=null}}});const mr=[{path:"/",name:"home",component:()=>D(()=>import("./NewsPage-CGz5c-6i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))},{path:"/ui",name:"ui",component:()=>D(()=>import("./UIPage-CepFq9Dd.js"),__vite__mapDeps([12,2,3,4,5]))},{path:"/articleDesign",name:"article-design",component:()=>D(()=>import("./ArticleDesignPage-CuvnVVPm.js"),__vite__mapDeps([13,2,3,4,5,9,14,15,16,17,1,18]))},{path:"/articleTest",name:"article-test",component:()=>D(()=>import("./ArticleTestPage-BBho_fWs.js"),__vite__mapDeps([19,3,2,4,5,7,20,14,15,9,16,17,1,18,21,22]))},{path:"/articleShort",name:"article-short",component:()=>D(()=>import("./ArticleShortPage-D8YB_0nc.js"),__vite__mapDeps([23,3,2,4,5,7,20,14,15,9,16,17,1,18,21,22]))},{path:"/articleLong",name:"article-long",component:()=>D(()=>import("./ArticleLongPage-C9BrvuRM.js"),__vite__mapDeps([24,3,2,4,5,7,20,14,15,9,16,17,1,18,21,22]))},{path:"/actualites",name:"actualites",component:()=>D(()=>import("./NewsCatalogPage-D1LrJ204.js"),__vite__mapDeps([25,1,2,3,4,5,26,7,6,21,27,9,10,28]))},{path:"/actualites/favoris",name:"news-bookmarks",component:()=>D(()=>import("./BookmarksPage-BqkXcb3B.js"),__vite__mapDeps([29,1,2,3,4,5,26,7,6,21,27])),meta:{requiresAuth:!0}},{path:"/actualites/:slug",name:"news-detail",component:()=>D(()=>import("./NewsDetailPage-Cx0_GULs.js"),__vite__mapDeps([30,3,1,2,4,5,6,21,8,14,15,9,16,17,18,31]))},{path:"/academie",name:"academie",component:()=>D(()=>import("./AcademieHomePage-DDKX1BaO.js"),__vite__mapDeps([32,2,3,4,5,33]))},{path:"/academie/formation/:id",name:"formation-detail",component:()=>D(()=>import("./FormationDetailPage-BKU8tx6J.js"),__vite__mapDeps([34,3,2,4,5,16,7,20,35,36,33,37]))},{path:"/academie/catalogue",name:"catalogue",component:()=>D(()=>import("./CataloguePage-D-AOm-M4.js"),__vite__mapDeps([38,3,2,4,5,39,7,20,21,40]))},{path:"/auth",name:"auth",component:()=>D(()=>import("./AuthPage-CPCOuPRN.js"),__vite__mapDeps([41,3,2,4,5,42,16,43,44,45,46,39,47,48,49,50])),meta:{guestOnly:!0}},{path:"/register/verif/:token",name:"verify-email",component:()=>D(()=>import("./VerifyEmailPage-nTOE_2l5.js"),__vite__mapDeps([51,3,2,4,5,42,16]))},{path:"/auth/lostPassword/:token",name:"reset-password",component:()=>D(()=>import("./ResetPasswordPage-CgSmLzSV.js"),__vite__mapDeps([52,3,44,2,4,5,42,16,45,46,48,39]))},{path:"/changement/finalisation/:hash",name:"validate-email-change",component:()=>D(()=>import("./ValidateEmailChangePage-CxIR5j6q.js"),__vite__mapDeps([53,3,2,4,5,42,16]))},{path:"/mon-compte",name:"account",component:()=>D(()=>import("./AccountPage-CbjvdeHd.js"),__vite__mapDeps([54,2,3,4,5,28,44,7,20,55,56,45,46,39,49,50,47,35,36,57,15])),meta:{requiresAuth:!0}},{path:"/rattachement",name:"legacy-linking",component:()=>D(()=>import("./LinkLegacyAccountPage-CvzC0hMI.js"),__vite__mapDeps([58,3,2,4,5,43,44,45,46,39,47,48,49,50,16,59]))},{path:"/mon-compte/annuler-abonnement",name:"cancel-subscription",component:()=>D(()=>import("./CancelSubscription-CYf55UK3.js"),__vite__mapDeps([60,3,44,2,4,5,7,20,55,56,45,46])),meta:{requiresAuth:!0}},{path:"/mon-compte/factures-abonnement",name:"subscription-invoices",component:()=>D(()=>import("./SubscriptionInvoices-CNQO85um.js"),__vite__mapDeps([61,3,2,4,5,7,20,55,56,15])),meta:{requiresAuth:!0}},{path:"/boutique",name:"boutique",component:()=>D(()=>import("./ShopPage-tDGyMurO.js"),__vite__mapDeps([62,3,2,4,5,63,36,40,7,20,21,64]))},{path:"/boutique/:ref",name:"product-detail",component:()=>D(()=>import("./ProductDetailPage-Dp6isqjZ.js"),__vite__mapDeps([65,3,2,4,5,63,7,20,21,9,16,17,66]))},{path:"/panier",name:"cart",component:()=>D(()=>import("./CartPage-7xYvTgGJ.js"),__vite__mapDeps([67,3,2,4,5,7,20,56,21]))},{path:"/commander",name:"checkout",component:()=>D(()=>import("./CheckoutPage-BDXu5fba.js"),__vite__mapDeps([68,3,37,2,4,5,7,20,56,46,47,16,17,57,55,9])),meta:{requiresAuth:!0,checkoutType:"shop"}},{path:"/abonnement/checkout",name:"oneclick-checkout",component:()=>D(()=>import("./CheckoutPage-BDXu5fba.js"),__vite__mapDeps([68,3,37,2,4,5,7,20,56,46,47,16,17,57,55,9])),meta:{requiresAuth:!0,checkoutType:"oneclick"}},{path:"/mentions-legales",name:"mentions-legales",component:()=>D(()=>import("./MentionsLegalesPage-B3OhPDLB.js"),__vite__mapDeps([69,2,3,4,5,70]))},{path:"/cgv",name:"cgv",component:()=>D(()=>import("./CGVPage-BIFOshPW.js"),__vite__mapDeps([71,2,3,4,5,72]))},{path:"/confidentialite",name:"confidentialite",component:()=>D(()=>import("./ConfidentialitePage-B8MAWhgt.js"),__vite__mapDeps([73,2,3,4,5,74]))},{path:"/cookies",name:"cookies",component:()=>D(()=>import("./CookiesPage-BXFfeGHC.js"),__vite__mapDeps([75,2,3,4,5,76]))},{path:"/rgpd",name:"rgpd",component:()=>D(()=>import("./RGPDLegacyPage-XL6rYIYp.js"),__vite__mapDeps([77,2,3,4,5,78]))},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>D(()=>import("./NotFoundPage-Dnss5Ei-.js"),__vite__mapDeps([79,2,3,4,5]))}],hr=k({history:N("/"),routes:mr,scrollBehavior:(e,t,n)=>n||{top:0,behavior:"smooth"}});hr.beforeEach(async function(e,t,n){const o=fr(),r=e.meta.requiresAuth;if(o.isInitialized||await o.waitForInitialization(),r&&!o.isAuthenticated){n({path:"/auth",query:{redirect:!(a=e.fullPath).startsWith("/")||a.startsWith("//")||a.match(/^(data|javascript|vbscript|file):/i)?"/mon-compte":e.fullPath}})}else n();var a}),hr.beforeEach(async function(e,t,n){const o=fr(),r=e.meta.guestOnly;o.isInitialized||await o.waitForInitialization(),r&&o.isAuthenticated?n({path:"/"}):n()});const gr=e({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{default:"bottom-right"},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean,default:!0},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(e){const t=e;return(e,n)=>(f(),h(u(sr),m({class:"toaster group"},t,{style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}}),null,16))}}),yr=e({__name:"App",setup:e=>(e,t)=>{const n=x("RouterView");return f(),a(l,null,[v(n),v(u(gr))],64)}});"https:"!==globalThis.location?.protocol&&globalThis.location?.replace(`https:${globalThis.location.href.substring(globalThis.location.protocol.length)}`);const vr=I(),br=P(yr);br.use(vr),br.use(hr);fr().initialize().then(async()=>{const e=ur();try{await e.initialize()}catch{}br.mount("#app")});export{So as C,D as _,fr as a,cn as b,mn as c,pn as d,dn as e,ur as f,un as g,rn as l,Lo as t,pr as u};
